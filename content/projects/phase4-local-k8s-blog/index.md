---
title: "Phase 4: Local K8s Blog - GitOps ìë™í™” ë¸”ë¡œê·¸ ì‹œìŠ¤í…œ ğŸš§"
date: 2026-01-16
summary: "ë¡œì»¬ Kubernetesì— Hugo ë¸”ë¡œê·¸ + Spring Boot WAS ë°°í¬, Jenkins CI/CD êµ¬ì¶• (ì§„í–‰ ì¤‘)"
tags: ["kubernetes", "gitops", "hugo", "spring-boot", "jenkins", "project", "in-progress"]
categories: ["projects"]
series: ["Infrastructure Learning Journey"]
weight: 4
showtoc: true
tocopen: true
draft: false
---

# Phase 4: Local K8s Blog (ğŸš§ ì§„í–‰ ì¤‘)

> **ìƒíƒœ**: ğŸš§ **ì§„í–‰ ì¤‘** (2026.01.16 ì‹œì‘)
> **ëª©í‘œ**: ë¡œì»¬ K8sì— ë¸”ë¡œê·¸ + WAS ë°°í¬, GitOps ìë™í™” (Git Push â†’ ìë™ ë°°í¬)
> **í‚¤ì›Œë“œ**: Bare-metal Kubernetes, Hugo, Spring Boot, Jenkins, Ingress

---

## ğŸ“‹ Quick Summary

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ë™ê¸°** | ì´ ë¸”ë¡œê·¸ ìì²´ë¥¼ Kubernetes Podë¡œ ë°°í¬í•˜ê³  ì‹¶ìŒ |
| **ëª©í‘œ** | Hugo ë¸”ë¡œê·¸ + Spring Boot Boardë¥¼ ë¡œì»¬ K8sì— ë°°í¬, Jenkins CI/CD êµ¬ì¶• |
| **ê¸°ìˆ  ìŠ¤íƒ** | Kubernetes v1.31, Hugo, Spring Boot, MySQL, Jenkins, Ingress |
| **ì˜ˆìƒ ì†Œìš” ì‹œê°„** | 8-10ì‹œê°„ (Phaseë³„ ë‹¨ê³„ì  ì§„í–‰) |

---

## ğŸ¯ ì™œ ì´ í”„ë¡œì íŠ¸?

### Phase 3ì™€ì˜ ì°¨ì´ì 

| í•­ëª© | Phase 3 (EKS) | Phase 4 (Local K8s) |
|------|--------------|---------------------|
| **í™˜ê²½** | AWS EKS (í´ë¼ìš°ë“œ) | ë² ì–´ë©”íƒˆ Kubernetes (ë¡œì»¬) |
| **ëª©ì ** | í”„ë¡œë•ì…˜ê¸‰ HA + DR | ë¸”ë¡œê·¸ ìë™ ë°°í¬ + í•™ìŠµ |
| **WEB** | nginx (ì •ì  íŒŒì¼) | **Hugo ë¸”ë¡œê·¸ (ì´ ë¸”ë¡œê·¸!)** |
| **WAS** | PetClinic (ìƒ˜í”Œ) | Spring Boot Board (ê²Œì‹œíŒ) |
| **DB** | AWS RDS | MySQL Pod (Longhorn PVC) |
| **CI/CD** | Jenkins + ArgoCD | **Jenkins (GitOps)** |
| **ë°°í¬ ë°©ì‹** | Canary (Argo Rollouts) | Rolling Update |

### ë¬¸ì œ ìƒí™© (í˜„ì¬)

**ì´ ë¸”ë¡œê·¸ ë°°í¬ ë°©ì‹:**
```
Hugo ì†ŒìŠ¤ ìˆ˜ì •
  â†“
hugo build (ë¡œì»¬)
  â†“
Git Push
  â†“
Netlify/Cloudflare ìë™ ë¹Œë“œ/ë°°í¬
  â†“
1-2ë¶„ í›„ ë°˜ì˜ âœ…
```

**í•˜ì§€ë§Œ...**
- ë¸”ë¡œê·¸ì—ì„œ "Kubernetes ì „ë¬¸ê°€"ë¼ê³  ì†Œê°œí•˜ëŠ”ë°
- ì •ì‘ ë‚´ ë¸”ë¡œê·¸ëŠ” Kubernetesê°€ ì•„ë‹Œ Netlifyì—ì„œ ì‹¤í–‰ ğŸ¤”
- **"ìê¸°ê°€ ì“°ëŠ” ë¸”ë¡œê·¸ë„ Kubernetesë¡œ ìš´ì˜í•´ì•¼ ì§„ì§œ ì•„ë‹Œê°€?"**

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

### ëª©í‘œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Kubernetes Cluster (ë² ì–´ë©”íƒˆ)                       â”‚
â”‚              192.168.1.187:6443                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Namespace: blog-system                                   â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  [Ingress Controller] nginx                               â”‚  â”‚
â”‚  â”‚        â†“                                                   â”‚  â”‚
â”‚  â”‚  [Ingress Rules]                                           â”‚  â”‚
â”‚  â”‚     /       â†’ web-service (Hugo ë¸”ë¡œê·¸)                   â”‚  â”‚
â”‚  â”‚     /board  â†’ was-service (Spring Boot Board)             â”‚  â”‚
â”‚  â”‚     /api    â†’ was-service (REST API)                      â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚  â”‚  â”‚ WEB Pod       â”‚     â”‚ WAS Pod       â”‚                 â”‚  â”‚
â”‚  â”‚  â”‚ nginx:alpine  â”‚     â”‚ Spring Boot   â”‚                 â”‚  â”‚
â”‚  â”‚  â”‚ Hugo ì •ì íŒŒì¼  â”‚     â”‚ Board App     â”‚                 â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
â”‚  â”‚                                 â”‚                         â”‚  â”‚
â”‚  â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚  â”‚
â”‚  â”‚                        â”‚ MySQL Pod       â”‚                â”‚  â”‚
â”‚  â”‚                        â”‚ mysql:8.0       â”‚                â”‚  â”‚
â”‚  â”‚                        â”‚ PVC: Longhorn   â”‚                â”‚  â”‚
â”‚  â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Jenkins (Docker)                                         â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  Pipeline 1: Hugo Blog (Jenkinsfile-web)                  â”‚  â”‚
â”‚  â”‚    Git Push â†’ Hugo Build â†’ Docker â†’ K8s Deploy           â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  Pipeline 2: Spring Boot WAS (Jenkinsfile-was)            â”‚  â”‚
â”‚  â”‚    Git Push â†’ Maven Build â†’ Docker â†’ K8s Deploy          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì™¸ë¶€ ì ‘ì†:
http://192.168.1.187:30080/       (Ingress NodePort)
http://blog.jiminhome.shop/       (Cloudflare Tunnel)
```

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### ê¸°ì¡´ í™˜ê²½ (í™œìš©)

| ì»´í¬ë„ŒíŠ¸ | ë²„ì „/ìƒíƒœ | ë¹„ê³  |
|---------|----------|------|
| **Kubernetes** | v1.31.13 | ë² ì–´ë©”íƒˆ ë©€í‹° ë…¸ë“œ (51ì¼ ìš´ì˜ ì¤‘) |
| **CNI** | Cilium | ê³ ì„±ëŠ¥ ë„¤íŠ¸ì›Œí‚¹ |
| **Storage** | Longhorn | ë¶„ì‚° ìŠ¤í† ë¦¬ì§€ (3 replica) |
| **Monitoring** | Prometheus + Grafana | ê¸°ì¡´ ìš´ì˜ ì¤‘ |

### ì‹ ê·œ êµ¬ì¶• (Phase 4)

| ë ˆì´ì–´ | ê¸°ìˆ  | ì„ íƒ ì´ìœ  |
|--------|------|----------|
| **Ingress** | nginx-ingress | Path-based Routing (`/`, `/board`) |
| **WEB** | Hugo + nginx:alpine | ì´ ë¸”ë¡œê·¸ ìì²´! |
| **WAS** | Spring Boot 3.2 | ê²Œì‹œíŒ CRUD |
| **DB** | MySQL 8.0 | Longhorn PVC ì˜êµ¬ ì €ì¥ |
| **CI/CD** | Jenkins | Docker ì»¨í…Œì´ë„ˆë¡œ ê°„ë‹¨ ë°°í¬ |

---

## ğŸ“‹ êµ¬í˜„ ê³„íš (Phaseë³„)

### Phase 0: í™˜ê²½ ì¤€ë¹„ (30ë¶„) - â³ ëŒ€ê¸° ì¤‘

**ì‘ì—…**:
1. Ingress Controller ì„¤ì¹˜ (nginx)
2. blog-system Namespace ìƒì„±
3. í”„ë¡œì íŠ¸ ë””ë ‰í„°ë¦¬ êµ¬ì¡° ìƒì„±

**ê²€ì¦**:
- [ ] Ingress Controller Pod Running
- [ ] blog-system Namespace ìƒì„± í™•ì¸

---

### Phase 1: Hugo ë¸”ë¡œê·¸ Pod ë°°í¬ (1ì‹œê°„) - â³ ëŒ€ê¸° ì¤‘

**ì‘ì—…**:
1. Dockerfile ì‘ì„± (Multi-stage Build)
2. K8s Deployment/Service ì‘ì„±
3. Docker ì´ë¯¸ì§€ ë¹Œë“œ
4. K8s ë°°í¬

**ê²€ì¦**:
- [ ] WEB Pod Running
- [ ] web-service ClusterIP í• ë‹¹
- [ ] `/health` ì—”ë“œí¬ì¸íŠ¸ ì‘ë‹µ

---

### Phase 2: Spring Boot WAS ê°œë°œ ë° ë°°í¬ (3-4ì‹œê°„) - â³ ëŒ€ê¸° ì¤‘

**ì‘ì—…**:
1. Spring Boot í”„ë¡œì íŠ¸ ìƒì„± (Spring Initializr)
2. ê²Œì‹œíŒ CRUD ê¸°ëŠ¥ êµ¬í˜„
3. Dockerfile ì‘ì„±
4. K8s Deployment/Service/ConfigMap ì‘ì„±
5. ë°°í¬

**ê²€ì¦**:
- [ ] WAS Pod Running
- [ ] ConfigMap í™˜ê²½ë³€ìˆ˜ ì£¼ì… í™•ì¸

---

### Phase 3: MySQL ë°°í¬ (30ë¶„) - â³ ëŒ€ê¸° ì¤‘

**ì‘ì—…**:
1. Secret, PVC, Deployment, Service ì‘ì„±
2. Longhorn StorageClass ì‚¬ìš©
3. ë°°í¬

**ê²€ì¦**:
- [ ] PVC Bound ìƒíƒœ
- [ ] MySQL Pod Running
- [ ] WAS â†’ MySQL ì—°ê²° í™•ì¸

---

### Phase 4: Ingress ì„¤ì • (30ë¶„) - â³ ëŒ€ê¸° ì¤‘

**ì‘ì—…**:
1. Ingress Manifest ì‘ì„± (Path Routing)
2. ë°°í¬ ë° í…ŒìŠ¤íŠ¸

**ì ‘ì† í…ŒìŠ¤íŠ¸**:
- [ ] `/` â†’ Hugo ë¸”ë¡œê·¸
- [ ] `/board` â†’ Spring Boot Board
- [ ] `/api/posts` â†’ REST API

---

### Phase 5: Jenkins CI/CD êµ¬ì¶• (2-3ì‹œê°„) - â³ ëŒ€ê¸° ì¤‘

**ì‘ì—…**:
1. Jenkins Docker ì‹¤í–‰
2. Jenkinsfile-web ì‘ì„± (Hugo íŒŒì´í”„ë¼ì¸)
3. Jenkinsfile-was ì‘ì„± (Spring Boot íŒŒì´í”„ë¼ì¸)
4. GitHub Webhook ì—°ë™ (ì„ íƒ)

**ìµœì¢… ëª©í‘œ**:
```
Git Push
  â†“
Jenkins ìë™ íŠ¸ë¦¬ê±°
  â†“
Docker ì´ë¯¸ì§€ ë¹Œë“œ
  â†“
Worker ë…¸ë“œë¡œ ì „ì†¡
  â†“
K8s ë°°í¬
  â†“
1-2ë¶„ í›„ ë°°í¬ ì™„ë£Œ âœ…
```

---

## ğŸ¯ ì˜ˆìƒ ì„±ê³¼

### ì •ëŸ‰ì  ëª©í‘œ

| ì§€í‘œ | í˜„ì¬ (Netlify) | ëª©í‘œ (K8s) |
|------|---------------|-----------|
| **ë°°í¬ ì‹œê°„** | 1-2ë¶„ | **1-2ë¶„** (ë™ì¼) |
| **ìë™í™”** | Git Push â†’ Netlify | **Git Push â†’ Jenkins** |
| **í™˜ê²½** | Netlify ì„œë²„ | **ë‚´ Kubernetes** |
| **ì œì–´** | Netlify ì¢…ì† | **ì™„ì „í•œ ì œì–´** |
| **í•™ìŠµ** | ì—†ìŒ | **GitOps í•™ìŠµ âœ…** |

### í•™ìŠµ ëª©í‘œ

1. **ì‹¤ì „ GitOps**: ë‚´ ë¸”ë¡œê·¸ë¡œ ì§ì ‘ ê²½í—˜
2. **Multi-stage Docker Build**: ì´ë¯¸ì§€ í¬ê¸° ìµœì í™”
3. **Ingress Path Routing**: í•˜ë‚˜ì˜ IPë¡œ ì—¬ëŸ¬ ì„œë¹„ìŠ¤
4. **PVC ì˜êµ¬ ì €ì¥**: MySQL ë°ì´í„° ì˜êµ¬ ë³´ê´€
5. **Jenkins Pipeline as Code**: Jenkinsfile ì‘ì„±

---

## ğŸ“Š ì§„í–‰ ìƒí™© (Updated: 2026-01-16)

### ì™„ë£Œëœ ì‘ì—… âœ…

1. âœ… êµ¬í˜„ ê³„íš ìˆ˜ë¦½ (IMPLEMENTATION-PLAN.md)
2. âœ… ê¸°ìˆ  ìŠ¤íƒ ê²°ì •
3. âœ… ì•„í‚¤í…ì²˜ ì„¤ê³„
4. âœ… "Why?" ë¬¸ì„œí™” (ëª¨ë“  ê¸°ìˆ  ì„ íƒ ì´ìœ  ëª…ì‹œ)

### ë‹¤ìŒ ì‘ì—… â³

- â³ Phase 0: í™˜ê²½ ì¤€ë¹„ (Ingress Controller ì„¤ì¹˜)
- â³ Phase 1: Hugo ë¸”ë¡œê·¸ Pod ë°°í¬
- â³ Phase 2-5: ìˆœì°¨ ì§„í–‰

---

## ğŸ”— ê´€ë ¨ ë¬¸ì„œ

- **[êµ¬í˜„ ê³„íšì„œ (IMPLEMENTATION-PLAN.md)](.claude/IMPLEMENTATION-PLAN.md)** - ìƒì„¸ êµ¬í˜„ ê°€ì´ë“œ (2000+ ì¤„)
- **[í˜„ì¬ ìƒíƒœ (context.md)](.claude/context.md)** - í”„ë¡œì íŠ¸ í˜„í™©
- **[Skills (blog-k8s.md)](.claude/skills/blog-k8s.md)** - ìš´ì˜ ëª…ë ¹ì–´ ëª¨ìŒ

---

## ğŸ’­ ì™œ ì´ í”„ë¡œì íŠ¸ê°€ ì¤‘ìš”í•œê°€?

### Phase 3 (EKS)ì™€ì˜ ì‹œë„ˆì§€

**Phase 3ì—ì„œ ë°°ìš´ ê²ƒ:**
- âœ… EKS í´ëŸ¬ìŠ¤í„° êµ¬ì¶• (Terraform)
- âœ… GitOps (ArgoCD)
- âœ… Canary Deployment (Argo Rollouts)
- âœ… Multi-Cloud DR

**Phase 4ì—ì„œ ë°°ìš¸ ê²ƒ:**
- âœ… ë² ì–´ë©”íƒˆ Kubernetes ìš´ì˜ ê²½í—˜
- âœ… Ingress Controller ì§ì ‘ ì„¤ì¹˜/ê´€ë¦¬
- âœ… ë¡œì»¬ ì´ë¯¸ì§€ ê´€ë¦¬ (ECR ì—†ì´)
- âœ… Jenkins Pipeline as Code

### "ì‹¤ì „ ê²½í—˜"ì˜ ê°€ì¹˜

**Phase 3 (EKS)**:
- PetClinic (ìƒ˜í”Œ ì•±) â†’ ì‹¤ì œ ì‚¬ìš© ì•ˆ í•¨
- AWS í™˜ê²½ â†’ ëˆ ë“¤ìŒ ($258/ì›”)

**Phase 4 (Local K8s)**:
- **ë‚´ ë¸”ë¡œê·¸** â†’ ë§¤ì¼ ì‚¬ìš© âœ…
- **ë¡œì»¬ í™˜ê²½** â†’ ë¬´ë£Œ âœ…
- **ì¥ì•  ë°œìƒ ì‹œ** â†’ ì‹¤ì œë¡œ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… í•„ìš” (ì§„ì§œ ê²½í—˜)

---

## ğŸ”® ì´ í”„ë¡œì íŠ¸ ì´í›„

### Phase 5 (ê°€ì¹­): Homelab Services

Phase 4 ì„±ê³µ í›„ í™•ì¥ ê³„íš:
- Nextcloud (íŒŒì¼ ì €ì¥ì†Œ)
- Vaultwarden (ë¹„ë°€ë²ˆí˜¸ ê´€ë¦¬)
- Grafana (ëª¨ë‹ˆí„°ë§ í†µí•©)
- Self-hosted Git (Gitea)

**ëª©í‘œ**: ì§‘ ì „ì²´ë¥¼ Kubernetes í´ëŸ¬ìŠ¤í„°ë¡œ! ğŸ 

---

## ğŸ“ ì—…ë°ì´íŠ¸ ë¡œê·¸

- **2026-01-16**: í”„ë¡œì íŠ¸ ì‹œì‘, êµ¬í˜„ ê³„íš ìˆ˜ë¦½ ì™„ë£Œ
- **2026-01-XX**: Phase 0 ì™„ë£Œ (ì˜ˆì •)
- **2026-01-XX**: Phase 1 ì™„ë£Œ (ì˜ˆì •)

---

**ì‘ì„±ì¼**: 2026-01-16
**í”„ë¡œì íŠ¸ ìƒíƒœ**: ğŸš§ **ì§„í–‰ ì¤‘** (Phase 0 ëŒ€ê¸°)
**ë‚œì´ë„**: â­â­â­ (Intermediate)
**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 8-10ì‹œê°„
