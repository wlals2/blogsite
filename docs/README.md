# Blogsite í”„ë¡œì íŠ¸ ì™„ì „ ê°€ì´ë“œ

> Hugo ì •ì  ë¸”ë¡œê·¸ë¥¼ Kubernetesì—ì„œ ìš´ì˜í•˜ëŠ” í”„ë¡œë•ì…˜ ì‹œìŠ¤í…œ
>
> **í”„ë¡œì íŠ¸ ëª©í‘œ**: ê°œì¸ ë¸”ë¡œê·¸ë¥¼ Kubernetes ë„¤ì´í‹°ë¸Œ ì•„í‚¤í…ì²˜ë¡œ êµ¬ì¶•í•˜ì—¬ DevOps ì‹¤ë¬´ ê²½í—˜ ìŠµë“ ë° í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì„±

**ìµœì¢… ì—…ë°ì´íŠ¸:** 2026-01-22
**ë¬¸ì„œ ë²„ì „:** 2.2 (Falco IDS ì¶”ê°€)
**ì‹œìŠ¤í…œ ìƒíƒœ:** âœ… í”„ë¡œë•ì…˜ ìš´ì˜ ì¤‘ (https://blog.jiminhome.shop/)

---

## ğŸ“‹ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
2. [ì™œ ì´ë ‡ê²Œ êµ¬ì¶•í–ˆëŠ”ê°€](#ì™œ-ì´ë ‡ê²Œ-êµ¬ì¶•í–ˆëŠ”ê°€)
3. [ê¸°ìˆ  ìŠ¤íƒ ìƒì„¸](#ê¸°ìˆ -ìŠ¤íƒ-ìƒì„¸)
4. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
5. [ë¬¸ì„œ êµ¬ì¡°](#ë¬¸ì„œ-êµ¬ì¡°)
6. [ë¹ ë¥¸ ì‹œì‘](#ë¹ ë¥¸-ì‹œì‘)
7. [ì™„ë£Œëœ ì‘ì—…](#ì™„ë£Œëœ-ì‘ì—…)
8. [ë‹¤ìŒ ë‹¨ê³„](#ë‹¤ìŒ-ë‹¨ê³„)

---

## í”„ë¡œì íŠ¸ ê°œìš”

### ë¬´ì—‡ì„ ë§Œë“¤ì—ˆëŠ”ê°€?

Hugo ì •ì  ì‚¬ì´íŠ¸ ìƒì„±ê¸°ë¡œ ë§Œë“  ê°œì¸ ë¸”ë¡œê·¸ë¥¼ **Kubernetes í´ëŸ¬ìŠ¤í„°**ì—ì„œ ìš´ì˜í•˜ëŠ” ì™„ì „í•œ í”„ë¡œë•ì…˜ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

**ì£¼ìš” íŠ¹ì§•:**
- âœ… **ì™„ì „ ìë™í™”ëœ CI/CD** (git push â†’ 35ì´ˆ í›„ í”„ë¡œë•ì…˜ ë°°í¬)
- âœ… **Kubernetes ë„¤ì´í‹°ë¸Œ** (ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜)
- âœ… **ê³ ê°€ìš©ì„±** (2ê°œ ì´ìƒì˜ ë³µì œë³¸, ë¬´ì¤‘ë‹¨ ë°°í¬, HPA ìë™ ìŠ¤ì¼€ì¼ë§)
- âœ… **ê¸€ë¡œë²Œ CDN** (Cloudflareë¥¼ í†µí•œ ì „ ì„¸ê³„ ìºì‹±)
- âœ… **ë¬´ë£Œ SSL/TLS** (Let's Encrypt ìë™ ê°±ì‹ )
- âœ… **ëª¨ë‹ˆí„°ë§ ìš´ì˜ ì¤‘** (PLG Stack 55ì¼ ìš´ì˜, 4ê°œ ëŒ€ì‹œë³´ë“œ, 8ê°œ Alert Rules)

### ì‹œìŠ¤í…œ ê·œëª¨

| í•­ëª© | ìˆ˜ì¹˜ |
|------|------|
| **Kubernetes ë…¸ë“œ** | 3ëŒ€ (1 control-plane + 2 workers) |
| **ì• í”Œë¦¬ì¼€ì´ì…˜** | 3ê°œ (WEB, WAS, MySQL) |
| **Pod ë³µì œë³¸** | WEB 2ê°œ, WAS 2ê°œ, MySQL 1ê°œ |
| **ë„¤ì„ìŠ¤í˜ì´ìŠ¤** | blog-system, argocd, monitoring, falco |
| **HPA** | WEB (2-5 replicas), WAS (2-10 replicas) |
| **ëª¨ë‹ˆí„°ë§** | PLG Stack (55ì¼ ìš´ì˜, 4 Dashboards, 8 Alert Rules) |
| **ë³´ì•ˆ ëª¨ë‹ˆí„°ë§** | Falco IDS (Runtime Security, Loki ì—°ë™) |
| **ë°°í¬ ì‹œê°„** | 35ì´ˆ (GitHub Actions) |
| **ì›”ê°„ íŠ¸ë˜í”½** | ~1,000 ë°©ë¬¸ (ì˜ˆìƒ) |
| **ìš´ì˜ ë¹„ìš©** | $0 (ìì²´ ì„œë²„ + ë¬´ë£Œ ì„œë¹„ìŠ¤) |

### í”„ë¡œì íŠ¸ ëª©ì 

**í•™ìŠµ ëª©í‘œ:**
1. **Kubernetes ì‹¤ì „ ê²½í—˜** - ì‹¤ì œ í”„ë¡œë•ì…˜ í™˜ê²½ ìš´ì˜
2. **CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•** - Jenkins, GitHub Actions ë¹„êµ
3. **ì¸í”„ë¼ as Code** - YAML, Terraformì„ í†µí•œ ì„ ì–¸ì  ê´€ë¦¬
4. **ì»¨í…Œì´ë„ˆí™”** - Docker multi-stage builds, ì´ë¯¸ì§€ ìµœì í™”
5. **í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ì•„í‚¤í…ì²˜** - 12-Factor App ì›ì¹™ ì ìš©
6. **íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ëŠ¥ë ¥** - ì‹¤ì œ ë¬¸ì œ í•´ê²° ê²½í—˜

**ë¹„ì¦ˆë‹ˆìŠ¤ ëª©í‘œ:**
1. **í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì¶•** - DevOps ì—”ì§€ë‹ˆì–´ ê²½ë ¥ ì¦ë¹™
2. **ê¸°ìˆ  ë¸”ë¡œê·¸ ìš´ì˜** - í•™ìŠµ ë‚´ìš© ì •ë¦¬ ë° ê³µìœ 
3. **í”„ë¡œë•ì…˜ ì‹œìŠ¤í…œ ìš´ì˜ ê²½í—˜** - ì´ë ¥ì„œì— ê¸°ì¬ ê°€ëŠ¥í•œ ì‹¤ë¬´ ê²½í—˜

---

## ì™œ ì´ë ‡ê²Œ êµ¬ì¶•í–ˆëŠ”ê°€?

### 1. ì™œ Hugoë¥¼ ì„ íƒí–ˆëŠ”ê°€?

**ì„ íƒí•œ ê¸°ìˆ : Hugo (ì •ì  ì‚¬ì´íŠ¸ ìƒì„±ê¸°)**

#### ëŒ€ì•ˆ ë¶„ì„

| ê¸°ìˆ  | ì¥ì  | ë‹¨ì  | ì„ íƒ ì´ìœ  |
|------|------|------|----------|
| **Hugo** | ë¹Œë“œ ì†ë„ ì´ˆê³ ì† (0.1ì´ˆ)<br>Go ë‹¨ì¼ ë°”ì´ë„ˆë¦¬<br>í…Œë§ˆ í’ë¶€ | ëŸ¬ë‹ ì»¤ë¸Œ ì¡´ì¬ | âœ… **ì„ íƒ** |
| Jekyll | GitHub Pages ê¸°ë³¸ ì§€ì› | ë¹Œë“œ ëŠë¦¼ (Ruby)<br>ì˜ì¡´ì„± ê´€ë¦¬ ë³µì¡ | âŒ ë¹Œë“œ ì†ë„ |
| Gatsby | React ê¸°ë°˜, SPA ê°€ëŠ¥ | ë¹Œë“œ ëŠë¦¼<br>ë³µì¡í•œ ì„¤ì • | âŒ ê³¼ë„í•œ ë³µì¡ì„± |
| WordPress | í”ŒëŸ¬ê·¸ì¸ í’ë¶€, ê´€ë¦¬ì UI | DB í•„ìš”, ë¬´ê±°ì›€<br>ë³´ì•ˆ ì·¨ì•½ì  | âŒ ë¦¬ì†ŒìŠ¤ ê³¼ë‹¤ |
| Next.js | SSG + SSR ê°€ëŠ¥ | ë³µì¡í•œ ì„¤ì •, Node.js í•„ìš” | âŒ ì •ì  ë¸”ë¡œê·¸ì— ê³¼í•¨ |

#### ì„ íƒ ì´ìœ  (Why Hugo?)

1. **ë¹Œë“œ ì†ë„**: 1000ê°œ í˜ì´ì§€ë¥¼ 0.1ì´ˆì— ë¹Œë“œ (Jekyllì€ ìˆ˜ì‹­ ì´ˆ)
   ```bash
   # Hugo ë¹Œë“œ ì‹œê°„
   hugo --minify
   # Built in 82 ms

   # Jekyll ë¹Œë“œ ì‹œê°„ (ë¹„êµ)
   # Built in 15.234 seconds
   ```

2. **ë‹¨ì¼ ë°”ì´ë„ˆë¦¬**: Goë¡œ ì‘ì„±ë˜ì–´ ì˜ì¡´ì„± ì—†ìŒ
   - Ruby (Jekyll), Node.js (Gatsby) ë¶ˆí•„ìš”
   - Docker ì´ë¯¸ì§€ í¬ê¸° ìµœì†Œí™” (Multi-stage build ì‹œ 20MB)

3. **Kubernetes ì¹œí™”ì **: ì •ì  íŒŒì¼ â†’ nginx ì„œë¹™ â†’ ë¹ ë¥¸ ìŠ¤ì¼€ì¼ë§
   - ìƒíƒœ ë¹„ì €ì¥ (Stateless) â†’ ìˆ˜í‰ í™•ì¥ ìš©ì´
   - ì»¨í…Œì´ë„ˆ ì‹œì‘ ì‹œê°„ 1ì´ˆ ë¯¸ë§Œ

4. **í•™ìŠµ ëª©í‘œ ë¶€í•©**: ì¸í”„ë¼ì— ì§‘ì¤‘í•˜ê¸° ìœ„í•´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë‹¨ìˆœí•˜ê²Œ
   - Hugo ìì²´ëŠ” ë‹¨ìˆœ â†’ Kubernetes, CI/CDì— ì§‘ì¤‘ ê°€ëŠ¥

### 2. ì™œ Kubernetesë¥¼ ì„ íƒí–ˆëŠ”ê°€?

**ì„ íƒí•œ ê¸°ìˆ : Kubernetes (K8s) 1.31.13**

#### ëŒ€ì•ˆ ë¶„ì„

| ê¸°ìˆ  | ì¥ì  | ë‹¨ì  | ì„ íƒ ì´ìœ  |
|------|------|------|----------|
| **Kubernetes** | í‘œì¤€, ê³ ê°€ìš©ì„±, ìë™ ë³µêµ¬ | ëŸ¬ë‹ ì»¤ë¸Œ ë†’ìŒ | âœ… **ì„ íƒ** |
| Docker Compose | ê°„ë‹¨, ë¹ ë¥¸ ì„¤ì • | ë‹¨ì¼ í˜¸ìŠ¤íŠ¸ë§Œ ì§€ì›<br>í”„ë¡œë•ì…˜ ë¶€ì í•© | âŒ í•™ìŠµ ëª©í‘œ ë¶ˆì¶©ë¶„ |
| Docker Swarm | K8së³´ë‹¤ ê°„ë‹¨ | ìƒíƒœê³„ ì‘ìŒ, ì ì  ì‚¬ì¥ë¨ | âŒ ì‹¤ë¬´ í™œìš©ë„ ë‚®ìŒ |
| VM (ì§ì ‘ ë°°í¬) | ë‹¨ìˆœ, ìµìˆ™í•¨ | í™•ì¥ì„± ì—†ìŒ, ìˆ˜ë™ ê´€ë¦¬ | âŒ DevOps ê²½í—˜ ë¶€ì¡± |
| AWS ECS | ê´€ë¦¬í˜•, ê°„ë‹¨ | ë²¤ë” ì¢…ì†, ë¹„ìš© ë°œìƒ | âŒ ë¹„ìš© + í•™ìŠµ ì œí•œ |

#### ì„ íƒ ì´ìœ  (Why Kubernetes?)

1. **ì‚°ì—… í‘œì¤€**: ëŒ€ë¶€ë¶„ì˜ ê¸°ì—…ì´ K8s ì‚¬ìš© (CNCF ì¡°ì‚¬ 96%)
   - ì‹¤ë¬´ì—ì„œ ê°€ì¥ ë§ì´ ìš”êµ¬ë˜ëŠ” ê¸°ìˆ 
   - í¬íŠ¸í´ë¦¬ì˜¤ ê°€ì¹˜ ìµœëŒ€í™”

2. **ì‹¤ì „ í•™ìŠµ**: ë¡œì»¬ í´ëŸ¬ìŠ¤í„°ë¡œ í”„ë¡œë•ì…˜ í™˜ê²½ ì‹œë®¬ë ˆì´ì…˜
   ```yaml
   # ì‹¤ì œ í”„ë¡œë•ì…˜ê³¼ ë™ì¼í•œ êµ¬ì„±
   - Deployment (ë¬´ì¤‘ë‹¨ ë°°í¬)
   - Service (ë¡œë“œ ë°¸ëŸ°ì‹±)
   - Ingress (ë¼ìš°íŒ…)
   - ConfigMap/Secret (ì„¤ì • ë¶„ë¦¬)
   - HPA (Auto Scaling ì¤€ë¹„)
   ```

3. **ê³ ê°€ìš©ì„± (HA)**: ìë™ ë³µêµ¬ ë° ìê°€ ì¹˜ìœ 
   ```bash
   # Podê°€ ì£½ìœ¼ë©´ ìë™ ì¬ì‹œì‘
   kubectl delete pod web-xxx
   # ì¦‰ì‹œ ìƒˆ Pod ìƒì„±ë¨

   # Rolling Update (ë¬´ì¤‘ë‹¨ ë°°í¬)
   kubectl set image deployment/web nginx=new-version
   # í•˜ë‚˜ì”© êµì²´í•˜ë©° ì„œë¹„ìŠ¤ ìœ ì§€
   ```

4. **í™•ì¥ì„±**: ìˆ˜í‰ í™•ì¥ (Scale-out) ìš©ì´
   ```bash
   # íŠ¸ë˜í”½ ì¦ê°€ ì‹œ ë³µì œë³¸ ì¦ê°€
   kubectl scale deployment web --replicas=10
   # 10ê°œ Podë¡œ ìë™ ë¡œë“œ ë°¸ëŸ°ì‹±
   ```

5. **ì„ ì–¸ì  ê´€ë¦¬**: YAMLë¡œ ì¸í”„ë¼ ì •ì˜ (GitOps ê°€ëŠ¥)
   ```yaml
   # ì›í•˜ëŠ” ìƒíƒœ(Desired State) ì •ì˜
   spec:
     replicas: 2  # "2ê°œì˜ Podë¥¼ ìœ ì§€í•´ì¤˜"

   # Kubernetesê°€ ìë™ìœ¼ë¡œ í˜„ì¬ ìƒíƒœë¥¼ ë§ì¶¤
   ```

### 3. ì™œ GitHub Actionsë¥¼ ì„ íƒí–ˆëŠ”ê°€?

**ì„ íƒí•œ ê¸°ìˆ : GitHub Actions (Self-hosted Runner)**

#### ëŒ€ì•ˆ ë¶„ì„

| CI/CD ë„êµ¬ | ì¥ì  | ë‹¨ì  | ì„ íƒ ì´ìœ  |
|-----------|------|------|----------|
| **GitHub Actions** | Git í†µí•©, ê°„ë‹¨í•œ ì„¤ì • | ë¬´ë£Œ í•œë„ ì œí•œ | âœ… **ì„ íƒ** (Self-hosted) |
| Jenkins | í”ŒëŸ¬ê·¸ì¸ í’ë¶€, ë¬´ë£Œ | ì„¤ì • ë³µì¡, ê´€ë¦¬ í•„ìš” | â­• ë°±ì—…ìš© ìœ ì§€ |
| GitLab CI | All-in-one | ë¬´ê±°ì›€, ë¦¬ì†ŒìŠ¤ ê³¼ë‹¤ | âŒ ë¦¬ì†ŒìŠ¤ ë¶€ì¡± |
| CircleCI | ë¹ ë¦„, í¸ë¦¬ | ë¬´ë£Œ í•œë„ ì ìŒ | âŒ ë¹„ìš© |
| Travis CI | ê°„ë‹¨ | ë¬´ë£Œ ì„œë¹„ìŠ¤ ì¶•ì†Œ | âŒ ì‹ ë¢°ì„± ë‚®ìŒ |

#### ì„ íƒ ì´ìœ  (Why GitHub Actions?)

1. **GitHub í†µí•©**: ì €ì¥ì†Œì™€ ì™„ë²½í•œ í†µí•©
   ```yaml
   # .github/workflows/deploy-web.yml
   on:
     push:
       branches: [ main ]  # main ë¸Œëœì¹˜ push ì‹œ ìë™ ì‹¤í–‰
   ```
   - PR ìë™ í…ŒìŠ¤íŠ¸, ì´ìŠˆ ì—°ë™ ê°€ëŠ¥
   - ë¹Œë“œ ìƒíƒœë¥¼ READMEì— ë°°ì§€ë¡œ í‘œì‹œ

2. **Self-hosted Runner ì‚¬ìš©**: ë¬´ë£Œ í•œë„ ì œí•œ í•´ê²°
   ```
   GitHub-hosted runner ë¬´ë£Œ í•œë„:
   - Public repo: ë¬´ì œí•œ
   - Private repo: 2,000ë¶„/ì›”

   Self-hosted runner:
   - ë‚´ ì„œë²„ì—ì„œ ì‹¤í–‰ â†’ ë¬´ì œí•œ
   - ë¹Œë“œ ì‹œê°„ ê³¼ê¸ˆ ì—†ìŒ
   ```

3. **ë¹ ë¥¸ ë°°í¬ ì†ë„**: ë¡œì»¬ ë„¤íŠ¸ì›Œí¬ë¡œ 35ì´ˆ ë°°í¬
   ```
   GitHub-hosted (ì¶”ì •):
   - VM ë¶€íŒ…: 20ì´ˆ
   - Checkout: 15ì´ˆ
   - Build: 40ì´ˆ
   - SSH ë°°í¬: 15ì´ˆ
   â†’ ì´ 90ì´ˆ

   Self-hosted (ì‹¤ì œ):
   - VM ë¶€íŒ…: 0ì´ˆ (ì´ë¯¸ ì‹¤í–‰ ì¤‘)
   - Checkout: 5ì´ˆ (ë¡œì»¬ ë„¤íŠ¸ì›Œí¬)
   - Build: 5ì´ˆ (ë¡œì»¬ ìºì‹œ)
   - ë°°í¬: 5ì´ˆ (ì§ì ‘ ì ‘ê·¼)
   â†’ ì´ 35ì´ˆ (61% ê°œì„ )
   ```

4. **ì‚¬ì„¤ IP ì ‘ê·¼ ê°€ëŠ¥**: Kubernetes API ì§ì ‘ í˜¸ì¶œ
   ```
   GitHub-hosted runner:
   - í¼ë¸”ë¦­ í´ë¼ìš°ë“œì—ì„œ ì‹¤í–‰
   - ì‚¬ì„¤ IP (192.168.x.x) ì ‘ê·¼ ë¶ˆê°€
   â†’ SSH í„°ë„ë§ í•„ìš”

   Self-hosted runner (k8s-cp ë…¸ë“œ):
   - ê°™ì€ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì‹¤í–‰
   - kubectl ëª…ë ¹ì–´ ì§ì ‘ ì‹¤í–‰ ê°€ëŠ¥
   â†’ ê°„ë‹¨í•œ ì•„í‚¤í…ì²˜
   ```

5. **Jenkins ë°±ì—… ìœ ì§€**: ë³µì¡í•œ ì›Œí¬í”Œë¡œìš° ëŒ€ë¹„
   - GitHub Actions: ì¼ë°˜ì ì¸ ë°°í¬ (80% ì¼€ì´ìŠ¤)
   - Jenkins: ë³µì¡í•œ íŒŒì´í”„ë¼ì¸ (20% ì¼€ì´ìŠ¤)
   - ì˜ˆ: ìŠ¹ì¸ ë‹¨ê³„, ì¡°ê±´ë¶€ ë°°í¬, ì™¸ë¶€ ì‹œìŠ¤í…œ í†µí•©

### 4. ì™œ Cloudflare CDNì„ ì„ íƒí–ˆëŠ”ê°€?

**ì„ íƒí•œ ê¸°ìˆ : Cloudflare (ë¬´ë£Œ í”Œëœ)**

#### ëŒ€ì•ˆ ë¶„ì„

| CDN | ì¥ì  | ë‹¨ì  | ì„ íƒ ì´ìœ  |
|-----|------|------|----------|
| **Cloudflare** | ë¬´ë£Œ, DDoS ë°©ì–´, SSL | ì„¤ì • í•„ìš” | âœ… **ì„ íƒ** |
| AWS CloudFront | AWS í†µí•©, ì„±ëŠ¥ ì¢‹ìŒ | ë¹„ìš© ë°œìƒ | âŒ ë¹„ìš© |
| nginx ìºì‹± | ì™„ì „í•œ ì œì–´ | ë‹¨ì¼ ìœ„ì¹˜ (ë ˆì´í„´ì‹œ) | âŒ ê¸€ë¡œë²Œ ì„±ëŠ¥ |
| CDN ì—†ìŒ | ë‹¨ìˆœ | ëŠë¦° ë¡œë”©, DDoS ì·¨ì•½ | âŒ ì‚¬ìš©ì ê²½í—˜ |

#### ì„ íƒ ì´ìœ  (Why Cloudflare?)

1. **ë¬´ë£Œ CDN**: ëŒ€ì—­í­ ë¬´ì œí•œ
   ```
   Cloudflare ë¬´ë£Œ í”Œëœ:
   - ëŒ€ì—­í­: ë¬´ì œí•œ
   - ì „ ì„¸ê³„ 200+ ì—£ì§€ ë¡œì¼€ì´ì…˜
   - DDoS ë°©ì–´: ë¬´ì œí•œ
   - SSL ì¸ì¦ì„œ: ë¬´ë£Œ
   ```

2. **ê¸€ë¡œë²Œ ì„±ëŠ¥**: ì „ ì„¸ê³„ 200ê°œ ë„ì‹œì— ì„œë²„
   ```
   ì‚¬ìš©ì ìœ„ì¹˜ë³„ ì‘ë‹µ ì‹œê°„:
   - ì„œìš¸ â†’ í•œêµ­ ì—£ì§€: 10ms
   - ë„ì¿„ â†’ ì¼ë³¸ ì—£ì§€: 15ms
   - LA â†’ ë¯¸êµ­ ì—£ì§€: 20ms

   Cloudflare ì—†ì´ ì§ì ‘ ì—°ê²°:
   - ì„œìš¸ â†’ í•œêµ­ ì„œë²„: 10ms
   - ë„ì¿„ â†’ í•œêµ­ ì„œë²„: 50ms
   - LA â†’ í•œêµ­ ì„œë²„: 200ms
   ```

3. **DDoS ë°©ì–´**: L3/L4/L7 ê³µê²© ìë™ ì°¨ë‹¨
   - HTTP Flood: ì´ˆë‹¹ ìˆ˜ë°±ë§Œ ìš”ì²­ ë°©ì–´
   - SYN Flood: TCP ë ˆë²¨ ê³µê²© ì°¨ë‹¨
   - ê°œì¸ ë¸”ë¡œê·¸ì— ê³¼í•˜ì§€ë§Œ, í•™ìŠµ ëª©ì 

4. **ìë™ ìºì‹œ í¼ì§€ í†µí•©**: GitHub Actionsë¡œ ìë™í™”
   ```yaml
   # deploy-web.yml
   - name: Purge Cloudflare Cache
     run: |
       curl -X POST "https://api.cloudflare.com/client/v4/zones/.../purge_cache" \
         -H "Authorization: Bearer ${{ secrets.CLOUDFLARE_API_TOKEN }}" \
         --data '{"purge_everything":true}'
   ```
   - ë°°í¬ í›„ ì¦‰ì‹œ ìºì‹œ ì‚­ì œ â†’ ì‚¬ìš©ìëŠ” í•­ìƒ ìµœì‹  ì½˜í…ì¸ 

5. **ë¬´ë£Œ SSL/TLS**: Origin CAë¡œ Kubernetesê¹Œì§€ ì•”í˜¸í™”
   ```
   Cloudflare â†’ ë¡œì»¬ nginx: TLS 1.3
   ë¡œì»¬ nginx â†’ Kubernetes: TLS 1.2 (ê³„íš)
   ```

### 5. ì™œ GHCR (GitHub Container Registry)ë¥¼ ì„ íƒí–ˆëŠ”ê°€?

**ì„ íƒí•œ ê¸°ìˆ : ghcr.io (GitHub Container Registry)**

#### ëŒ€ì•ˆ ë¶„ì„

| ë ˆì§€ìŠ¤íŠ¸ë¦¬ | ì¥ì  | ë‹¨ì  | ì„ íƒ ì´ìœ  |
|-----------|------|------|----------|
| **GHCR** | GitHub í†µí•©, ë¬´ë£Œ | ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ | âœ… **ì„ íƒ** |
| Docker Hub | ëŒ€ì¤‘ì , ìµìˆ™ | ë¬´ë£Œ í•œë„ ì œí•œ (Pull ì œí•œ) | âŒ Rate Limit |
| AWS ECR | AWS í†µí•© | ë¹„ìš© ë°œìƒ | âŒ ë¹„ìš© |
| ë¡œì»¬ Registry | ì™„ì „í•œ ì œì–´ | ê´€ë¦¬ í•„ìš”, ì™¸ë¶€ ì ‘ê·¼ ë¶ˆê°€ | âŒ ê´€ë¦¬ ë¶€ë‹´ |

#### ì„ íƒ ì´ìœ  (Why GHCR?)

1. **GitHub Actions í†µí•©**: ìë™ ì¸ì¦
   ```yaml
   - name: Login to GHCR
     uses: docker/login-action@v3
     with:
       registry: ghcr.io
       username: ${{ github.actor }}  # ìë™
       password: ${{ secrets.GHCR_TOKEN }}
   ```

2. **ë¬´ë£Œ Private ì´ë¯¸ì§€**: ì œí•œ ì—†ìŒ
   ```
   Docker Hub ë¬´ë£Œ í”Œëœ:
   - Private repo: 1ê°œë§Œ
   - Pull rate: 100 pulls/6h (IPë‹¹)

   GHCR ë¬´ë£Œ í”Œëœ:
   - Private repo: ë¬´ì œí•œ
   - Pull rate: ì œí•œ ì—†ìŒ
   - Storage: 500MB (Public repo ë¬´ì œí•œ)
   ```

3. **GitHub Packages í†µí•©**: ì½”ë“œì™€ ì´ë¯¸ì§€ ê°™ì€ ìœ„ì¹˜
   ```
   https://github.com/wlals2/blogsite
   â”œâ”€ Code (ì†ŒìŠ¤ì½”ë“œ)
   â”œâ”€ Packages (Docker ì´ë¯¸ì§€)
   â””â”€ Actions (CI/CD ë¡œê·¸)

   ëª¨ë‘ í•œ ê³³ì—ì„œ ê´€ë¦¬
   ```

4. **Public ì´ë¯¸ì§€ëŠ” ì™„ì „ ë¬´ë£Œ**: ìš©ëŸ‰ ì œí•œ ì—†ìŒ
   ```bash
   # Public repo ì´ë¯¸ì§€ëŠ” ë¬´ì œí•œ ì €ì¥
   ghcr.io/wlals2/blog-web:v1
   ghcr.io/wlals2/blog-web:v2
   ...
   ghcr.io/wlals2/blog-web:v100
   ```

### 6. ì™œ Multi-stage Docker Buildë¥¼ ì‚¬ìš©í–ˆëŠ”ê°€?

**ì„ íƒí•œ ê¸°ìˆ : Multi-stage Docker Build**

#### Before (Single-stage)
```dockerfile
FROM ubuntu:22.04
RUN apt-get update && apt-get install -y hugo nginx
COPY . /app
WORKDIR /app
RUN hugo --minify
CMD ["nginx", "-g", "daemon off;"]
```
**ì´ë¯¸ì§€ í¬ê¸°: ~500MB**

#### After (Multi-stage)
```dockerfile
# Stage 1: Hugo ë¹Œë“œ
FROM klakegg/hugo:0.111.3-alpine AS builder
WORKDIR /src
COPY . .
RUN hugo --minify

# Stage 2: nginx ëŸ°íƒ€ì„
FROM nginx:alpine
COPY --from=builder /src/public /usr/share/nginx/html/
```
**ì´ë¯¸ì§€ í¬ê¸°: ~20MB** (96% ê°ì†Œ)

#### ì„ íƒ ì´ìœ  (Why Multi-stage?)

1. **ì´ë¯¸ì§€ í¬ê¸° ìµœì†Œí™”**: 500MB â†’ 20MB
   - ë¹Œë“œ ë„êµ¬ (Hugo, npm) ì œê±°
   - Alpine Linux ì‚¬ìš© (5MB vs Ubuntu 200MB)
   - ìµœì¢… ì´ë¯¸ì§€ì— ì†ŒìŠ¤ì½”ë“œ ë¯¸í¬í•¨

2. **ë¹ ë¥¸ ë°°í¬**: Pull ì‹œê°„ ë‹¨ì¶•
   ```
   Single-stage (500MB):
   - Pull ì‹œê°„: 30ì´ˆ
   - ìŠ¤í† ë¦¬ì§€: 500MB Ã— ë³µì œë³¸ ìˆ˜

   Multi-stage (20MB):
   - Pull ì‹œê°„: 2ì´ˆ
   - ìŠ¤í† ë¦¬ì§€: 20MB Ã— ë³µì œë³¸ ìˆ˜
   ```

3. **ë³´ì•ˆ ê°•í™”**: ê³µê²© í‘œë©´ ì¶•ì†Œ
   - ë¶ˆí•„ìš”í•œ íŒ¨í‚¤ì§€ ì œê±°
   - ë¹Œë“œ ë„êµ¬ ë¯¸í¬í•¨ (npm, git ë“±)
   - ì†ŒìŠ¤ì½”ë“œ ë¯¸í¬í•¨ (ì—­ê³µí•™ ë°©ì§€)

4. **Layer ìºì‹±**: Docker BuildKit í™œìš©
   ```dockerfile
   # ì˜ì¡´ì„± ë¨¼ì € ë³µì‚¬ (ë³€ê²½ ë¹ˆë„ ë‚®ìŒ)
   COPY package.json ./
   RUN npm install  # ìºì‹œë¨

   # ì†ŒìŠ¤ ë‚˜ì¤‘ì— ë³µì‚¬ (ë³€ê²½ ë¹ˆë„ ë†’ìŒ)
   COPY . .
   RUN hugo --minify  # ì†ŒìŠ¤ ë³€ê²½ ì‹œë§Œ ì¬ë¹Œë“œ
   ```

---

## ê¸°ìˆ  ìŠ¤íƒ ìƒì„¸

### í”„ë¡ íŠ¸ì—”ë“œ (WEB)

**Hugo v0.111.3 + PaperMod í…Œë§ˆ**

**Hugoë€?**
- Go ì–¸ì–´ë¡œ ì‘ì„±ëœ ì •ì  ì‚¬ì´íŠ¸ ìƒì„±ê¸° (Static Site Generator, SSG)
- Markdown íŒŒì¼ â†’ HTML/CSS/JS ë³€í™˜
- ë¹Œë“œ ì‹œê°„: ì´ˆë‹¹ ìˆ˜ì²œ í˜ì´ì§€ ìƒì„± ê°€ëŠ¥

**ì‘ë™ ë°©ì‹:**
```
content/posts/my-post.md (Markdown)
    â†“
Hugo ë¹Œë“œ (í…œí”Œë¦¿ ì—”ì§„)
    â†“
public/posts/my-post/index.html (HTML)
    â†“
nginx ì„œë¹™
```

**ì„ íƒí•œ í…Œë§ˆ: PaperMod**
- ë¯¸ë‹ˆë©€ ë””ìì¸
- ë‹¤í¬ëª¨ë“œ ê¸°ë³¸ ì§€ì›
- SEO ìµœì í™” (ë©”íƒ€ íƒœê·¸, ì‚¬ì´íŠ¸ë§µ ìë™ ìƒì„±)
- ë¹ ë¥¸ ë¡œë”© (10kb ë¯¸ë§Œì˜ CSS)

**ì„¤ì • íŒŒì¼:**
```toml
# config.toml
baseURL = "https://blog.jiminhome.shop/"
languageCode = "ko-KR"
title = "Jimin's Tech Blog"
theme = "PaperMod"

[params]
  defaultTheme = "dark"
  ShowCodeCopyButtons = true
  ShowReadingTime = true
```

### ë°±ì—”ë“œ (WAS)

**Spring Boot 3.2.x + MySQL 8.0**

**êµ¬ì„±:**
- Spring Boot WEB (REST API)
- Spring Data JPA (ORM)
- MySQL 8.0 (ë°ì´í„°ë² ì´ìŠ¤)

**í˜„ì¬ ìƒíƒœ:**
- WASëŠ” ê²Œì‹œíŒ ê¸°ëŠ¥ ì œê³µ (`/board`)
- ì†ŒìŠ¤ì½”ë“œëŠ” `.gitignore`ì— í¬í•¨ (ë¯¼ê° ì •ë³´ ë³´í˜¸)
- ë¡œì»¬ì—ì„œë§Œ ê´€ë¦¬, GitHub Actionsì—ì„œ ë¹Œë“œ ì‹œ ë³µì‚¬

**ë¯¸ë˜ ê³„íš:**
- Hugo ë¸”ë¡œê·¸ì™€ Spring Boot API í†µí•©
- ëŒ“ê¸€ ì‹œìŠ¤í…œ
- ë°©ë¬¸ì í†µê³„

### ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜

**Kubernetes 1.31.13 (3-node cluster)**

**í´ëŸ¬ìŠ¤í„° êµ¬ì„±:**
```
k8s-cp (Control Plane)
  - IP: 192.168.1.187
  - ì—­í• : API Server, Scheduler, Controller Manager, etcd
  - ìŠ¤í™: 2 CPU, 4GB RAM

k8s-worker1
  - IP: 192.168.1.204
  - ìƒíƒœ: Ready (taint ì„¤ì •: dns-issue=true:NoSchedule)
  - ìŠ¤í™: 2 CPU, 4GB RAM

k8s-worker2
  - IP: 192.168.1.131
  - ìƒíƒœ: Ready (ëª¨ë“  Pod ì‹¤í–‰ ì¤‘)
  - ìŠ¤í™: 2 CPU, 4GB RAM
```

**ì„¤ì¹˜ ë„êµ¬:**
- kubeadm (Kubernetes ì„¤ì¹˜)
- containerd (ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„)
- Calico CNI (ë„¤íŠ¸ì›Œí¬ í”ŒëŸ¬ê·¸ì¸)

**ì™œ kubeadmì„ ì„ íƒí–ˆëŠ”ê°€?**
- **ëŒ€ì•ˆ 1**: Minikube â†’ ë‹¨ì¼ ë…¸ë“œë§Œ ì§€ì›, í•™ìŠµìš©
- **ëŒ€ì•ˆ 2**: k3s â†’ ê²½ëŸ‰í™”ë˜ì–´ ì¼ë¶€ ê¸°ëŠ¥ ì œí•œ
- **ëŒ€ì•ˆ 3**: ê´€ë¦¬í˜• (EKS, GKE) â†’ ë¹„ìš© ë°œìƒ
- **ì„ íƒ**: kubeadm â†’ ì‹¤ì œ í”„ë¡œë•ì…˜ê³¼ ë™ì¼í•œ êµ¬ì„±

### CI/CD

**GitHub Actions + Jenkins (ë°±ì—…)**

**GitHub Actions ì›Œí¬í”Œë¡œìš°:**
```yaml
# .github/workflows/deploy-web.yml
name: Deploy WEB to Kubernetes

on:
  push:
    branches: [ main ]

jobs:
  build-and-deploy:
    runs-on: self-hosted  # k8s-cp ë…¸ë“œì—ì„œ ì‹¤í–‰

    steps:
      - name: Checkout code
      - name: Build Docker image
      - name: Push to GHCR
      - name: Deploy to Kubernetes
      - name: Purge Cloudflare Cache
```

**Self-hosted Runner ì„¤ì •:**
```bash
# k8s-cp ë…¸ë“œì—ì„œ ì‹¤í–‰
cd ~/actions-runner
./run.sh

# ë˜ëŠ” ì„œë¹„ìŠ¤ë¡œ ë“±ë¡
sudo ./svc.sh install
sudo ./svc.sh start
```

**Jenkins (ë°±ì—…):**
- URL: http://localhost:8080
- ì—­í• : ë³µì¡í•œ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ (ìŠ¹ì¸ ë‹¨ê³„, ì¡°ê±´ë¶€ ë°°í¬)
- í˜„ì¬: ë¹„í™œì„±í™” (GitHub Actionsë¡œ ì¶©ë¶„)

### ì¸í”„ë¼

**ì»´í¬ë„ŒíŠ¸ ëª©ë¡:**

| ì»´í¬ë„ŒíŠ¸ | ë²„ì „/ì œê³µì | ì—­í•  |
|----------|------------|------|
| **Kubernetes** | 1.31.13 | ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ |
| **Docker** | 24.0.x | ì»¨í…Œì´ë„ˆ ë¹Œë“œ |
| **nginx** | alpine (latest) | WEB Pod ì„œë¹™ + ë¡œì»¬ SSL ì¢…ë£Œ |
| **Ingress Controller** | nginx-ingress | L7 ë¼ìš°íŒ… |
| **Cloudflare** | ë¬´ë£Œ í”Œëœ | CDN, DDoS, SSL |
| **GHCR** | GitHub | Docker ì´ë¯¸ì§€ ì €ì¥ì†Œ |
| **MySQL** | 8.0 | WAS ë°ì´í„°ë² ì´ìŠ¤ |
| **Hugo** | 0.111.3 | ì •ì  ì‚¬ì´íŠ¸ ìƒì„± |
| **Falco** | 0.42+ (modern-ebpf) | ëŸ°íƒ€ì„ ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ (IDS) |
| **Falcosidekick** | latest | Alert ì „ì†¡ (Loki, WebUI) |

**ë„¤íŠ¸ì›Œí¬ êµ¬ì„±:**
```
ì¸í„°ë„·
  â†“
Cloudflare CDN (443)
  â†“
ê³µì¸ IP (í¬íŠ¸í¬ì›Œë”©)
  â†“
ë¡œì»¬ nginx (192.168.1.187:443) - SSL Termination
  â†“
Kubernetes Ingress (192.168.1.187:80) - NodePort 31852
  â†“
Services (ClusterIP)
  â”œâ”€ web-service:80 â†’ web Pods (nginx:80)
  â”œâ”€ was-service:8080 â†’ was Pods (spring-boot:8080)
  â””â”€ mysql-service:3306 â†’ mysql Pod (mysql:3306)
```

---

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Developer                                â”‚
â”‚                git add/commit/push                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GitHub Repository                            â”‚
â”‚              https://github.com/wlals2/blogsite                 â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚   Code       â”‚  â”‚   Packages   â”‚  â”‚   Actions    â”‚        â”‚
â”‚  â”‚  (Source)    â”‚  â”‚   (Images)   â”‚  â”‚  (Workflows) â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                 â”‚
                         Webhook Trigger         â”‚
                                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              GitHub Actions (Self-hosted Runner)                â”‚
â”‚                  Running on k8s-cp Node                         â”‚
â”‚                                                                 â”‚
â”‚  1. Checkout Code                                              â”‚
â”‚  2. Docker Build (Multi-stage)                                â”‚
â”‚     â”œâ”€ Stage 1: Hugo Build (klakegg/hugo:alpine)             â”‚
â”‚     â””â”€ Stage 2: nginx Runtime (nginx:alpine)                  â”‚
â”‚  3. Push to GHCR (ghcr.io/wlals2/blog-web:vX)               â”‚
â”‚  4. kubectl set image deployment/web ...                      â”‚
â”‚  5. Purge Cloudflare Cache (API call)                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼ Pull Image
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Kubernetes Cluster (3-node, 192.168.1.0/24)          â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Namespace: blog-system                                  â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚  Deployments                                      â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                   â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  web (2 replicas)                                â”‚   â”‚  â”‚
â”‚  â”‚  â”‚    Image: ghcr.io/wlals2/blog-web:v9            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚    Container: nginx:alpine                        â”‚   â”‚  â”‚
â”‚  â”‚  â”‚    Resources: 100m CPU, 128Mi RAM (per Pod)     â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                   â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  was (2 replicas)                                â”‚   â”‚  â”‚
â”‚  â”‚  â”‚    Image: ghcr.io/wlals2/board-was:v2           â”‚   â”‚  â”‚
â”‚  â”‚  â”‚    Container: spring-boot                         â”‚   â”‚  â”‚
â”‚  â”‚  â”‚    Resources: 250m CPU, 512Mi RAM (per Pod)     â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                   â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  mysql (1 replica)                               â”‚   â”‚  â”‚
â”‚  â”‚  â”‚    Image: mysql:8.0                              â”‚   â”‚  â”‚
â”‚  â”‚  â”‚    PVC: 10Gi (Local Path Provisioner)           â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚  Services (ClusterIP)                            â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                   â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  web-service:80 â†’ web Pods                      â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  was-service:8080 â†’ was Pods                    â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  mysql-service:3306 â†’ mysql Pod                 â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚  Ingress (nginx-ingress-controller)              â”‚   â”‚  â”‚
â”‚  â”‚  â”‚                                                   â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  blog.jiminhome.shop                             â”‚   â”‚  â”‚
â”‚  â”‚  â”‚    /        â†’ web-service:80                     â”‚   â”‚  â”‚
â”‚  â”‚  â”‚    /api     â†’ was-service:8080                   â”‚   â”‚  â”‚
â”‚  â”‚  â”‚    /board   â†’ was-service:8080                   â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼ NodePort 31852
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ë¡œì»¬ nginx (192.168.1.187:443)                 â”‚
â”‚                      SSL Termination                            â”‚
â”‚                                                                 â”‚
â”‚  server {                                                       â”‚
â”‚    listen 443 ssl;                                             â”‚
â”‚    server_name blog.jiminhome.shop;                            â”‚
â”‚    ssl_certificate /etc/letsencrypt/live/.../fullchain.pem;   â”‚
â”‚    location / {                                                â”‚
â”‚      proxy_pass http://192.168.1.187:31852;  # Ingress       â”‚
â”‚    }                                                           â”‚
â”‚  }                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼ HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Cloudflare CDN                               â”‚
â”‚                 200+ Edge Locations                             â”‚
â”‚                                                                 â”‚
â”‚  - Cache: Static files (HTML, CSS, JS, images)                â”‚
â”‚  - DDoS Protection: L3/L4/L7                                   â”‚
â”‚  - SSL/TLS: Cloudflare â†’ Origin                               â”‚
â”‚  - DNS: blog.jiminhome.shop â†’ 192.168.1.187 (Proxied)        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼ HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ì‚¬ìš©ì (ì „ ì„¸ê³„)                           â”‚
â”‚                https://blog.jiminhome.shop/                     â”‚
â”‚                                                                 â”‚
â”‚  ì„œìš¸: 10ms (í•œêµ­ ì—£ì§€)                                         â”‚
â”‚  ë„ì¿„: 15ms (ì¼ë³¸ ì—£ì§€)                                         â”‚
â”‚  LA: 20ms (ë¯¸êµ­ ì—£ì§€)                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„° í”Œë¡œìš°

**ë°°í¬ í”Œë¡œìš° (Developer â†’ Production):**
```
1. Developer writes code
   â””â”€ vim content/posts/new-post.md

2. Git commit & push
   â””â”€ git push origin main

3. GitHub webhook triggers Actions
   â””â”€ .github/workflows/deploy-web.yml

4. Self-hosted runner (k8s-cp) executes:
   â”œâ”€ git clone (5ì´ˆ)
   â”œâ”€ docker build (5ì´ˆ)
   â”œâ”€ docker push to GHCR (10ì´ˆ)
   â”œâ”€ kubectl set image (5ì´ˆ)
   â””â”€ curl Cloudflare purge cache (5ì´ˆ)
   â†’ ì´ 35ì´ˆ

5. Kubernetes Rolling Update:
   â”œâ”€ ìƒˆ Pod ìƒì„± (ImagePullBackOff ë°©ì§€)
   â”œâ”€ ìƒˆ Pod Ready í™•ì¸
   â”œâ”€ ê¸°ì¡´ Pod ì¢…ë£Œ
   â””â”€ ë¬´ì¤‘ë‹¨ ë°°í¬ ì™„ë£Œ

6. Cloudflare cache purged
   â””â”€ ì‚¬ìš©ìëŠ” ì¦‰ì‹œ ìµœì‹  ì½˜í…ì¸  í™•ì¸
```

**ì‚¬ìš©ì ìš”ì²­ í”Œë¡œìš° (User â†’ Content):**
```
1. ì‚¬ìš©ì ë¸Œë¼ìš°ì €
   â””â”€ https://blog.jiminhome.shop/

2. DNS ì¡°íšŒ
   â””â”€ blog.jiminhome.shop â†’ Cloudflare IP (Proxied)

3. Cloudflare Edge (ê°€ì¥ ê°€ê¹Œìš´ ì„œë²„)
   â”œâ”€ Cache HIT: ì¦‰ì‹œ ì‘ë‹µ (10ms)
   â””â”€ Cache MISS: Originìœ¼ë¡œ ìš”ì²­

4. Origin (ë¡œì»¬ nginx)
   â””â”€ TLS ì¢…ë£Œ, Kubernetes Ingressë¡œ ì „ë‹¬

5. Kubernetes Ingress
   â””â”€ ê²½ë¡œ ê¸°ë°˜ ë¼ìš°íŒ…:
       â”œâ”€ /     â†’ web-service
       â”œâ”€ /api  â†’ was-service
       â””â”€ /board â†’ was-service

6. Service (ClusterIP)
   â””â”€ ë¡œë“œ ë°¸ëŸ°ì‹± (Round-robin)
       â”œâ”€ web-pod-1 (10.0.1.188:80)
       â””â”€ web-pod-2 (10.0.2.2:80)

7. Pod (nginx container)
   â””â”€ /usr/share/nginx/html/index.html ì„œë¹™

8. ì‘ë‹µ ì—­ìˆœìœ¼ë¡œ ì „ë‹¬
   â””â”€ Pod â†’ Service â†’ Ingress â†’ nginx â†’ Cloudflare â†’ User
```

### ë³´ì•ˆ ì•„í‚¤í…ì²˜

```
ì¸í„°ë„· (Untrusted)
    â†“
Cloudflare (DDoS, WAF)
    â†“ HTTPS (TLS 1.3)
ë¡œì»¬ nginx (SSL Termination)
    â†“ HTTP (private network)
Kubernetes Ingress
    â†“
Services (ClusterIP, internal only)
    â†“
Pods (Container isolated)
```

**ë³´ì•ˆ ë ˆì´ì–´:**
1. **Cloudflare**: L3/L4/L7 ê³µê²© ì°¨ë‹¨
2. **ë¡œì»¬ ë°©í™”ë²½**: 443 í¬íŠ¸ë§Œ ì™¸ë¶€ ë…¸ì¶œ
3. **Falco IDS**: ëŸ°íƒ€ì„ ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ (syscall ê¸°ë°˜ ì¹¨ì… íƒì§€)
4. **Kubernetes Network Policy**: (ë¯¸ë˜) Pod ê°„ í†µì‹  ì œí•œ
5. **Container Security**: Non-root user, Read-only filesystem
6. **Secret Management**: Kubernetes Secretìœ¼ë¡œ ë¯¼ê° ì •ë³´ ê´€ë¦¬

---

## ë¬¸ì„œ êµ¬ì¡°

### ğŸ“š í•µì‹¬ ë¬¸ì„œ (4ê°œ)

#### 1. [01-CICD-GUIDE.md](01-CICD-GUIDE.md) - CI/CD í†µí•© ê°€ì´ë“œ

**íŒŒì¼ í¬ê¸°:** 28KB (ArgoCD ì¶”ê°€)
**ì½ëŠ” ì‹œê°„:** 20-25ë¶„
**ìµœì¢… ì—…ë°ì´íŠ¸:** 2026-01-20

**ë‹´ê³  ìˆëŠ” ë‚´ìš©:**

**ğŸ“Œ GitHub Actions CI/CD (í˜„ì¬ ì‚¬ìš©)**
- **ê°œë…**: GitHub Actionsë€ ë¬´ì—‡ì¸ê°€, ì™œ ì‚¬ìš©í•˜ëŠ”ê°€
- **GitHub-Hosted vs Self-hosted Runner ë¹„êµ**:
  - ë°°í¬ ì‹œê°„: 90ì´ˆ â†’ 35ì´ˆ (61% ê°œì„ )
  - ë¹„êµí‘œ: ë¶€íŒ… ì‹œê°„, Checkout, ë¹Œë“œ, ë°°í¬ ê° ë‹¨ê³„ ë¶„ì„
  - ì™œ Self-hostedë¥¼ ì„ íƒí–ˆëŠ”ê°€: ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ì„±, ë¹„ìš©, ì†ë„
- **WEB ë°°í¬ ì›Œí¬í”Œë¡œìš°**:
  - `.github/workflows/deploy-web.yml` ì „ì²´ ì½”ë“œ
  - 8ê°œ ë‹¨ê³„ ìƒì„¸ ì„¤ëª… (Checkout, Buildx, Login, Build, Deploy, Health Check, Cache Purge, Summary)
  - ê° ë‹¨ê³„ë³„ "ì™œ ì´ë ‡ê²Œ í–ˆëŠ”ê°€" ì„¤ëª…
  - Cloudflare ìºì‹œ ìë™ í¼ì§€ í†µí•©
- **WAS ë°°í¬ ì›Œí¬í”Œë¡œìš°**:
  - `.github/workflows/deploy-was.yml`
  - WEBê³¼ì˜ ì°¨ì´ì : íŠ¸ë¦¬ê±° ì¡°ê±´ (workflow_dispatch), ì†ŒìŠ¤ ë³µì‚¬ ë‹¨ê³„
  - ì™œ WASëŠ” .gitignoreì— ìˆëŠ”ê°€: ë¯¼ê° ì •ë³´ ë³´í˜¸
  - ë¡œì»¬ ì†ŒìŠ¤ ë³µì‚¬ ë©”ì»¤ë‹ˆì¦˜ ìƒì„¸ ì„¤ëª…
- **GitHub Secrets ì„¤ì •**:
  - í•„ìš”í•œ 4ê°œ Secret: GHCR_TOKEN, KUBECONFIG_BASE64, CLOUDFLARE_ZONE_ID, CLOUDFLARE_API_TOKEN
  - ê° Secret ìƒì„± ë°©ë²• ìŠ¤í… ë°”ì´ ìŠ¤í…
  - Cloudflare Zone ID ì¡°íšŒ ë°©ë²• (API, ëŒ€ì‹œë³´ë“œ)
- **Self-hosted Runner ì„¤ì •**:
  - k8s-cp ë…¸ë“œì— ì„¤ì¹˜ ê³¼ì •
  - ì„œë¹„ìŠ¤ ë“±ë¡ ë°©ë²•
  - íŠ¸ëŸ¬ë¸”ìŠˆíŒ…: ì €ì¥ì†Œ ë¶ˆì¼ì¹˜ ë¬¸ì œ

**ğŸ“Œ Jenkins CI/CD (ë°±ì—…)**
- **Jenkins ì•„í‚¤í…ì²˜**: localhost:8080, Webhook í†µí•©
- **Jenkinsfile ì˜ˆì œ**: Groovy íŒŒì´í”„ë¼ì¸ ì „ì²´ ì½”ë“œ
- **Jenkins ì„¤ì •**: Credentials, Pipeline Job, Webhook
- **ì–¸ì œ Jenkinsë¥¼ ì‚¬ìš©í•˜ëŠ”ê°€**: ë³µì¡í•œ íŒŒì´í”„ë¼ì¸, ìŠ¹ì¸ ë‹¨ê³„, í”ŒëŸ¬ê·¸ì¸ í•„ìš” ì‹œ

**ğŸ“Œ ArgoCD (GitOps CD) - ğŸ†• 2026-01-20**
- **ìƒíƒœ**: âœ… ì„¤ì¹˜ ì™„ë£Œ, â³ Application ìƒì„± ëŒ€ê¸°
- **ì™œ ArgoCDì¸ê°€**:
  - ë¬¸ì œ: GitHub Actions Push ëª¨ë¸ì˜ í•œê³„ (Drift ë°œìƒ, ë°°í¬ ì´ë ¥ ì¶”ì  ì–´ë ¤ì›€)
  - í•´ê²°: GitOps Pull ëª¨ë¸ (Gitì´ Single Source of Truth, selfHeal ìë™ ë³µêµ¬)
- **CIì™€ CDì˜ ë¶„ë¦¬**:
  - CI (GitHub Actions): Docker ì´ë¯¸ì§€ ë¹Œë“œë§Œ
  - CD (ArgoCD): Kubernetes ë°°í¬ë§Œ
  - ì¥ì : ë³´ì•ˆ (Kubernetes credential ë¶ˆí•„ìš”), ê´€ì‹¬ì‚¬ ë¶„ë¦¬
- **Pull vs Push ëª¨ë¸**:
  - Push (GitHub Actions): kubectl apply (ì§ì ‘ ë°°í¬)
  - Pull (ArgoCD): Git Poll â†’ Auto Sync (ìë™ ë°°í¬)
- **ë°°í¬ íë¦„ ë¹„êµ**:
  - í˜„ì¬: GitHub Actionsê°€ CI+CD ëª¨ë‘ ìˆ˜í–‰
  - ëª©í‘œ: CI (ì´ë¯¸ì§€ ë¹Œë“œ) â†’ manifestrepo ì—…ë°ì´íŠ¸ â†’ ArgoCD (ìë™ ë°°í¬)
- **Application ìƒì„± (ë‹¤ìŒ ë‹¨ê³„)**:
  - Git Repository ì¤€ë¹„ (k8s-manifests)
  - Application ìƒì„± (blog-system)
  - Sync Policy ì„¤ì • (automated, prune, selfHeal)
- **ë°°ê²½ì§€ì‹: GitOpsë€**:
  - GitOps 4ì›ì¹™ (ì„ ì–¸ì , ë²„ì „ ê´€ë¦¬, ìë™ ë°˜ì˜, ì§€ì†ì  ì¡°ì •)
  - ì¥ì  (Git ê°ì‚¬ ë¡œê·¸, Pull Request ë¦¬ë·°, git revert ë¡¤ë°±)
- **íŠ¸ë ˆì´ë“œì˜¤í”„**:
  - ì¥ì : Gitì´ ìœ ì¼í•œ ì§„ì‹¤, selfHeal, ë³´ì•ˆ
  - ë‹¨ì : ì´ˆê¸° ì„¤ì • ë³µì¡, ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ì¦ê°€, í•™ìŠµ ê³¡ì„ 

**ğŸ“Œ ë¹„êµ ë° ì„ íƒ ê°€ì´ë“œ**
- **GitHub Actions vs Jenkins vs ArgoCD ë¹„êµí‘œ**:
  - ì—­í• , ë°°í¬ ëª¨ë¸, ì„¤ì • ë‚œì´ë„, Git ì˜ì¡´ì„±, Drift ë³µêµ¬, ë¡¤ë°± ë“±
  - Push ëª¨ë¸ (GitHub Actions, Jenkins) vs Pull ëª¨ë¸ (ArgoCD)
- **ë°°í¬ ëª¨ë¸ ë¹„êµ**:
  - Push ëª¨ë¸: ì¥ì  (ê°„ë‹¨í•¨), ë‹¨ì  (credential ë…¸ì¶œ, Drift)
  - Pull ëª¨ë¸: ì¥ì  (Git ì¤‘ì‹¬, selfHeal, ë³´ì•ˆ), ë‹¨ì  (ë³µì¡í•¨)
- **ìµœì¢… ê¶Œì¥ ì•„í‚¤í…ì²˜**:
  - CI (GitHub Actions) â†’ CD (ArgoCD) â†’ Kubernetes
  - JenkinsëŠ” ë°±ì—…ìš©
- **í˜„ì¬ ì„¤ì • (2026-01-20)**:
  - âœ… GitHub Actions (ì´ë¯¸ì§€ ë¹Œë“œ + ì§ì ‘ ë°°í¬)
  - âœ… ArgoCD (ì„¤ì¹˜ ì™„ë£Œ, Application ìƒì„± ëŒ€ê¸°)
  - â¸ï¸ Jenkins (ë°±ì—…)

**ğŸ“Œ ë°°í¬ í”Œë¡œìš° ê²€ì¦**
- **ì‹¤ì œ ìš´ì˜ í™˜ê²½**: Kubernetesì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ì¦ê±°
- **ë¡œì»¬ nginx ì—­í• **: SSL Terminationë§Œ, ì½˜í…ì¸  ì„œë¹™ ì•ˆ í•¨
- **ì˜ëª»ëœ ì´í•´ vs ì˜¬ë°”ë¥¸ ì´í•´**: "ë¡œì»¬ì—ì„œ ë¨¼ì € ëœ¨ê³ ..." â†’ X

#### 2. [02-INFRASTRUCTURE.md](02-INFRASTRUCTURE.md) - ì¸í”„ë¼ ê°€ì´ë“œ

**íŒŒì¼ í¬ê¸°:** 30KB (ArgoCD ì¶”ê°€)
**ì½ëŠ” ì‹œê°„:** 20-25ë¶„
**ìµœì¢… ì—…ë°ì´íŠ¸:** 2026-01-20

**ë‹´ê³  ìˆëŠ” ë‚´ìš©:**

**ğŸ“Œ Cloudflare CDN**
- **ê°œìš”**: Cloudflareê°€ ì œê³µí•˜ëŠ” ê²ƒ (CDN, DDoS, SSL, DNS)
- **í˜„ì¬ ì„¤ì •**:
  - ë„ë©”ì¸: jiminhome.shop
  - DNS ë ˆì½”ë“œ: A blog 192.168.1.187 (Proxied)
  - Zone ID: 7895fe2aef761351db71892fb7c22b52
- **Cloudflare ìºì‹œ ë™ì‘**:
  - Before (ìˆ˜ë™ í¼ì§€): ì‚¬ìš©ìëŠ” ì´ì „ ì½˜í…ì¸ 
  - After (ìë™ í¼ì§€): ë°°í¬ í›„ ì¦‰ì‹œ ìµœì‹  ì½˜í…ì¸ 
- **ìë™ ìºì‹œ í¼ì§€ êµ¬í˜„**:
  - GitHub Actions YAML ì½”ë“œ
  - Cloudflare API ì‚¬ìš©ë²•
- **Cloudflare API Token ìƒì„±**: ìŠ¤í… ë°”ì´ ìŠ¤í… ê°€ì´ë“œ
- **Zone ID ì¡°íšŒ ë°©ë²•**: ëŒ€ì‹œë³´ë“œ, API ë‘ ê°€ì§€ ë°©ë²•
- **ìºì‹œ ìƒíƒœ í™•ì¸**: cf-cache-status í—¤ë” ì˜ë¯¸
- **Cloudflare vs nginx ë¹„êµ**: ì™œ ë‘˜ ë‹¤ ì‚¬ìš©í•˜ëŠ”ê°€
- **ê°œì„  ì˜µì…˜**: Cloudflareë§Œ, nginxë§Œ, í˜„ì¬ (ì„ íƒ)

**ğŸ“Œ Kubernetes ì•„í‚¤í…ì²˜**
- **í˜„ì¬ í´ëŸ¬ìŠ¤í„° êµ¬ì„±**:
  - ë…¸ë“œ ëª©ë¡: k8s-cp, k8s-worker1 (taint), k8s-worker2
  - ê° ë…¸ë“œ IP, ì—­í• , ìƒíƒœ
- **ë°°í¬ ë¦¬ì†ŒìŠ¤**:
  - Deployment YAML ì „ì²´ (WEB, WAS, MySQL)
  - Service YAML ì „ì²´ (ClusterIP)
  - Ingress YAML ì „ì²´ (ê²½ë¡œ ê¸°ë°˜ ë¼ìš°íŒ…)
- **ë„¤íŠ¸ì›Œí¬ í”Œë¡œìš°**: ì™¸ë¶€ ì‚¬ìš©ì â†’ Cloudflare â†’ nginx â†’ Ingress â†’ Services â†’ Pods
- **ë¦¬ì†ŒìŠ¤ í• ë‹¹**: CPU/Memory requests/limits ìƒì„¸
- **í™•ì¸ ëª…ë ¹ì–´**: kubectl ëª…ë ¹ì–´ ëª¨ìŒ

**ğŸ“Œ GitOps (ArgoCD) - ğŸ†• 2026-01-20**
- **ìƒíƒœ**: âœ… ArgoCD ì„¤ì¹˜ ì™„ë£Œ, â³ Application ìƒì„± ëŒ€ê¸°
- **ì™œ ArgoCDì¸ê°€**:
  - ë¬¸ì œ: ê¸°ì¡´ kubectl apply ë°©ì‹ì˜ í•œê³„ (Git â†” Kubernetes Drift ë°œìƒ)
  - í•´ê²°: GitOps ì›ì¹™ (Gitì´ Single Source of Truth, selfHealë¡œ ìë™ ë³µêµ¬)
  - ì¥ì : ë°°í¬ ì´ë ¥ ì¶”ì , ì„ ì–¸ì  ë°°í¬, Pull ëª¨ë¸ (ë³´ì•ˆ)
- **Helm ì„¤ì¹˜ ê³¼ì •**:
  - Helm Repository ì¶”ê°€ (`argo/argo-cd`)
  - Namespace ìƒì„± (`argocd`)
  - Helm install ì‹¤í–‰
  - Pod ìƒíƒœ í™•ì¸ (7ê°œ ì»´í¬ë„ŒíŠ¸ Running)
  - ì´ˆê¸° ë¹„ë°€ë²ˆí˜¸ í™•ì¸ (`argocd-initial-admin-secret`)
- **Ingress ì„¤ì • (ë¡œì»¬ ì ‘ì†)**:
  - Host ê¸°ë°˜ ë¼ìš°íŒ… (`argocd.jiminhome.shop`)
  - TLS Passthrough (`ssl-passthrough: "true"`)
  - Backend HTTPS (`backend-protocol: "HTTPS"`)
  - ë¡œì»¬ nginx (192.168.1.200) í†µí•œ ì ‘ì†
- **Cloudflare Tunnel ì„¤ì • (ì™¸ë¶€ ì ‘ì†)**:
  - DNS ë¼ìš°íŒ… ì¶”ê°€ (`cloudflared tunnel route dns`)
  - Ingress ê·œì¹™ ì¶”ê°€ (`service: https://192.168.1.200:443`)
  - noTLSVerify ì„¤ì • (Self-signed ì¸ì¦ì„œ í—ˆìš©)
- **Application ìƒì„± ì˜ˆì‹œ (ë‹¤ìŒ ë‹¨ê³„)**:
  - Git Repository: `https://github.com/wlals2/k8s-manifests.git`
  - Target Revision: main
  - Path: blog-system
  - Sync Policy: automated, prune, selfHeal
- **Pull vs Push ëª¨ë¸ ë¹„êµ**:
  - Push (GitHub Actions): kubectlì´ ì§ì ‘ ë°°í¬ â†’ Credential ë…¸ì¶œ ìœ„í—˜
  - Pull (ArgoCD): ArgoCDê°€ Gitì„ ê°ì‹œ â†’ ìë™ ë™ê¸°í™”, selfHeal
- **ë°°ê²½ì§€ì‹: GitOps 4ì›ì¹™**:
  1. ì„ ì–¸ì  (Declarative): YAMLë¡œ ì›í•˜ëŠ” ìƒíƒœ ì •ì˜
  2. ë²„ì „ ê´€ë¦¬ (Versioned): Gitì— ëª¨ë“  ìƒíƒœ ì €ì¥
  3. ìë™ ë°˜ì˜ (Automatically Pulled): Git ë³€ê²½ â†’ ìë™ ë°°í¬
  4. ì§€ì†ì  ì¡°ì • (Continuously Reconciled): selfHealë¡œ Drift ë³µêµ¬
- **íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê²½í—˜**:
  - Cloudflared ì„¤ì • ë¯¸ë°˜ì˜: warp-routing ì œê±°, DNS ì§ì ‘ ì¶”ê°€
  - Ingress TLS ì˜¤ë¥˜: ssl-passthrough ì„¤ì •
  - Pod ìƒì„± ëŠë¦¼: 60ì´ˆ ëŒ€ê¸° í•„ìš”
  - ì´ˆê¸° ë¹„ë°€ë²ˆí˜¸ í™•ì¸: Secret ì¡°íšŒ ë°©ë²•

**ğŸ“Œ Kubernetes ê°œì„  ê³„íš (MetalLB + cert-manager)**
- **í˜„ì¬ ë¬¸ì œì **:
  - ë¡œì»¬ nginx ì˜ì¡´ì„± (ì™¸ë¶€ ì˜ì¡´ì„±)
  - SSL ìˆ˜ë™ ê°±ì‹  (90ì¼ë§ˆë‹¤)
  - NodePort ì‚¬ìš© (í¬íŠ¸ ê´€ë¦¬ ë³µì¡)
- **ê°œì„  ëª©í‘œ**:
  - MetalLB LoadBalancerë¡œ nginx ì œê±°
  - cert-managerë¡œ SSL ìë™ ê°±ì‹ 
  - ì™„ì „ Kubernetes ë„¤ì´í‹°ë¸Œ
- **êµ¬í˜„ ê³„íš**:
  - Phase 1: MetalLB ì„¤ì¹˜ (30ë¶„)
  - Phase 2: cert-manager ì„¤ì¹˜ (30ë¶„)
  - Phase 3: Ingress TLS ì„¤ì • (30ë¶„)
  - Phase 4: LoadBalancer ë³€ê²½ (15ë¶„)
  - Phase 5: DNS ë³€ê²½ (15ë¶„)
  - Phase 6: nginx ì¤‘ì§€ (15ë¶„)
  - ì´ 2.5ì‹œê°„ ì˜ˆìƒ

**ğŸ“Œ ëª¨ë‹ˆí„°ë§ (PLG Stack) - âœ… ìš´ì˜ ì¤‘ (55ì¼)**
- **êµ¬ì¶• ì™„ë£Œ**: Prometheus 2.x, Grafana 12.3.1, Loki, AlertManager v0.27.0
- **Exporters**: nginx-exporter, mysql-exporter v0.16.0, node-exporter, cadvisor, kube-state-metrics
- **ëŒ€ì‹œë³´ë“œ (4ê°œ)**: Nginx, WAS, MySQL, Full Stack Overview
- **Alert Rules (8ê°œ)**: PodDown, MySQLDown, HighCPUUsage, HighMemoryUsage, HighDiskUsage, PodCrashLooping, HighErrorRate, HighResponseTime
- **ì ‘ì†**: http://monitoring.jiminhome.shop (IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸: 192.168.1.0/24)
- **ìƒì„¸ ê°€ì´ë“œ**: [docs/monitoring/README.md](./monitoring/README.md)

#### 3. [03-TROUBLESHOOTING.md](03-TROUBLESHOOTING.md) - íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ

**íŒŒì¼ í¬ê¸°:** 16KB (ArgoCD ì¶”ê°€)

#### 4. [security/security-falco.md](security/security-falco.md) - Falco IDS ìƒì„¸ ê°€ì´ë“œ ğŸ†•

**íŒŒì¼ í¬ê¸°:** 15KB
**ì½ëŠ” ì‹œê°„:** 15ë¶„
**ìµœì¢… ì—…ë°ì´íŠ¸:** 2026-01-22

**ë‹´ê³  ìˆëŠ” ë‚´ìš©:**

**ğŸ“Œ Falco IDS ê°œìš”**
- **ì™œ Falcoì¸ê°€**: ëŸ°íƒ€ì„ ë³´ì•ˆì˜ í•„ìš”ì„±, IDS vs IPS ì°¨ì´
- **modern-ebpf ë“œë¼ì´ë²„**: Cilium CNIì™€ ì¶©ëŒ ì—†ì´ eBPF ì‚¬ìš©
- **íƒì§€ ì‹œë‚˜ë¦¬ì˜¤**: Shell ì‹¤í–‰, /etc/shadow ì ‘ê·¼, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ì‹¤í–‰ ë“±

**ğŸ“Œ ì•„í‚¤í…ì²˜**
- Falco â†’ Falcosidekick â†’ Loki/WebUI íŒŒì´í”„ë¼ì¸
- gRPC/HTTP ì¶œë ¥ ì„¤ì •
- Alert ì „ì†¡ íë¦„ ë° ë¼ë²¨ êµ¬ì¡°

**ğŸ“Œ ì‹¤ì œ ì‚¬ìš© ë°©ë²• â­**
- **Alert í™•ì¸ ë°©ë²• 3ê°€ì§€**: Grafana/Loki, Falcosidekick UI, kubectl logs
- **Loki ì¿¼ë¦¬ ì˜ˆì œ**: `{priority="Warning"}`, `{rule=~".+"}`
- **í…ŒìŠ¤íŠ¸ ë°©ë²•**: TTY ì¡°ê±´ (`proc.tty != 0`) ì´í•´
- **ì‹¤ì œ í…ŒìŠ¤íŠ¸ ê²°ê³¼**: 2026-01-22 ê²€ì¦ ì™„ë£Œ

**ğŸ“Œ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…**
- TTY ë¬¸ì œ: `-it` í”Œë˜ê·¸ í•„ìˆ˜
- Loki ë¼ë²¨ êµ¬ì¡°: priority, rule, k8s_ns_name, k8s_pod_name ë“±
**ì½ëŠ” ì‹œê°„:** 12-18ë¶„
**ìµœì¢… ì—…ë°ì´íŠ¸:** 2026-01-20

**ë‹´ê³  ìˆëŠ” ë‚´ìš©:**

**ğŸ“Œ 1. kubectl Connection Refused ì˜¤ë¥˜**
- **ì¦ìƒ**: `connection to localhost:8080 was refused`
- **ì›ì¸ ë¶„ì„**:
  - GitHub-hosted runnerëŠ” í¼ë¸”ë¦­ í´ë¼ìš°ë“œ
  - ì‚¬ì„¤ IP (192.168.x.x) ì ‘ê·¼ ë¶ˆê°€
  - RFC 1918 ì‚¬ì„¤ IP ë²”ìœ„ ì„¤ëª…
- **í•´ê²° ë°©ë²•**: Self-hosted runner ì‚¬ìš©
- **í™•ì¸ ë°©ë²•**: Runner ìƒíƒœ, ì›Œí¬í”Œë¡œìš° ë¡œê·¸

**ğŸ“Œ 2. kubectlì´ Jenkins HTML ë°˜í™˜ ì˜¤ë¥˜**
- **ì¦ìƒ**: kubectl ëª…ë ¹ì–´ â†’ Jenkins ë¡œê·¸ì¸ í˜ì´ì§€ HTML
- **ì›ì¸ ë¶„ì„**:
  - ì›Œí¬í”Œë¡œìš°ê°€ ~/.kube/config ë®ì–´ì”€
  - KUBECONFIG_BASE64 Secretì´ ë¹„ì–´ìˆìŒ
  - kubectl ì¸ì¦ ì‹¤íŒ¨ â†’ 8080 í¬íŠ¸ í´ë°± â†’ Jenkins
- **Before/After**: kubeconfig íŒŒì¼ ë‚´ìš© ë¹„êµ
- **í•´ê²° ë°©ë²•**: kubeconfig ë³µêµ¬, ì›Œí¬í”Œë¡œìš° ìˆ˜ì • (ì„¤ì • ë‹¨ê³„ ì‚­ì œ)
- **ì™œ ì„¤ì • ì•ˆ í•´ë„ ë˜ëŠ”ê°€**: Self-hosted runnerëŠ” ì´ë¯¸ ìœ íš¨í•œ config ë³´ìœ 

**ğŸ“Œ 3. Runnerê°€ Jobì„ ê°€ì ¸ê°€ì§€ ì•ŠëŠ” ì˜¤ë¥˜**
- **ì¦ìƒ**: `Waiting for a runner to pick up this job...`
- **ì›ì¸ ë¶„ì„**:
  - Runnerê°€ ì˜ëª»ëœ ì €ì¥ì†Œì— ë“±ë¡ë¨
  - wlals2/my-hugo-blog (X) â†’ wlals2/blogsite (O)
- **í•´ê²° ë°©ë²•**: Runner ì¬ë“±ë¡
  - ì„œë¹„ìŠ¤ ì¤‘ì§€ ë° ì œê±°
  - ì„¤ì • íŒŒì¼ ì‚­ì œ
  - ì˜¬ë°”ë¥¸ ì €ì¥ì†Œë¡œ ì¬ë“±ë¡
- **í™•ì¸ ë°©ë²•**: .runner íŒŒì¼ í™•ì¸

**ğŸ“Œ 4. Cloudflare ìºì‹œ í¼ì§€ ì‹¤íŒ¨**
- **ì¦ìƒ**: `URL using bad/illegal format`
- **ì›ì¸ ë¶„ì„**:
  - CLOUDFLARE_ZONE_ID Secretì´ ë¹„ì–´ìˆìŒ
  - URLì´ `zones//purge_cache`ë¡œ ë³€í™˜ë¨
- **í•´ê²° ë°©ë²•**:
  - Zone ID ì¡°íšŒ (API ë˜ëŠ” ëŒ€ì‹œë³´ë“œ)
  - GitHub Secret ì—…ë°ì´íŠ¸
- **í™•ì¸ ë°©ë²•**: ë¡œì»¬ì—ì„œ API ì§ì ‘ í…ŒìŠ¤íŠ¸

**ğŸ“Œ 5. WAS Docker ë¹Œë“œ ê²½ë¡œ ì˜¤ë¥˜**
- **ì¦ìƒ**: `path "./blog-k8s-project/was" not found`
- **ì›ì¸ ë¶„ì„**:
  - WAS ì†ŒìŠ¤ëŠ” .gitignoreì— í¬í•¨
  - actions/checkoutì€ Git ì €ì¥ì†Œë§Œ í´ë¡ 
  - ì›Œí‚¹ ë””ë ‰í„°ë¦¬ì— WAS ì†ŒìŠ¤ ì—†ìŒ
- **ë””ë ‰í„°ë¦¬ êµ¬ì¡°**: ì‹¤ì œ ì†ŒìŠ¤ ìœ„ì¹˜ vs ì›Œí¬í”Œë¡œìš° ìœ„ì¹˜
- **í•´ê²° ë°©ë²•**: ë³µì‚¬ ë‹¨ê³„ ì¶”ê°€
- **ì™œ Gitì— í¬í•¨ ì•ˆ í•˜ëŠ”ê°€**: ë¯¼ê° ì •ë³´ ë³´í˜¸

**ğŸ“Œ 6. ArgoCD íŠ¸ëŸ¬ë¸”ìŠˆíŒ… - ğŸ†• 2026-01-20**
- **ìƒíƒœ**: ArgoCD ì„¤ì¹˜ ê³¼ì •ì—ì„œ ë°œìƒí•œ ì‹¤ì œ ë¬¸ì œ í•´ê²° ê²½í—˜
- **6.1 Cloudflared ì„¤ì • ë¯¸ë°˜ì˜ ë¬¸ì œ**:
  - ì¦ìƒ: `systemctl restart cloudflared` í›„ì—ë„ argocd ì„¤ì • ë°˜ì˜ ì•ˆ ë¨
  - ì›ì¸: ì„¤ì • íŒŒì¼ ìš°ì„ ìˆœìœ„ í˜¼ë™ (`/etc/cloudflared/config.yml` vs `~/.cloudflared/config.yml`), warp-routing êµ¬ë¬¸ ì˜¤ë¥˜
  - í•´ê²°: warp-routing ì œê±°, DNS ë¼ìš°íŒ… ì§ì ‘ ì¶”ê°€ (`cloudflared tunnel route dns`)
  - ë°°ê²½ì§€ì‹: Cloudflare Tunnel DNS vs Ingress ê·œì¹™ (ë‘˜ ë‹¤ í•„ìš”!)
- **6.2 Ingress TLS Passthrough ë¬¸ì œ**:
  - ì¦ìƒ: Ingressë¡œ ArgoCD ì ‘ì† ì‹œ SSL ì˜¤ë¥˜
  - ì›ì¸: ArgoCDê°€ Self-signed ì¸ì¦ì„œ ì‚¬ìš©, Ingress Controllerê°€ TLS ì¢…ë£Œ ì‹œë„
  - í•´ê²°: `ssl-passthrough: "true"`, `backend-protocol: "HTTPS"` ì–´ë…¸í…Œì´ì…˜ ì¶”ê°€
  - ë°°ê²½ì§€ì‹: TLS Passthrough vs TLS Termination
- **6.3 Pod ìƒì„± ëŠë¦¼**:
  - ì¦ìƒ: `kubectl get pods` ì‹œ ContainerCreating ìƒíƒœ ì§€ì†
  - ì›ì¸: ì´ë¯¸ì§€ Pull, Init Container ì‹¤í–‰
  - í•´ê²°: 60ì´ˆ ëŒ€ê¸° í›„ ì¬í™•ì¸
  - ë°°ê²½ì§€ì‹: Pod ìƒì„± ë‹¨ê³„ (Pending â†’ ContainerCreating â†’ Running)
- **6.4 ì´ˆê¸° ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ì‹¤íŒ¨**:
  - ì¦ìƒ: `argocd-initial-admin-secret` Secret ì°¾ì„ ìˆ˜ ì—†ìŒ
  - ì›ì¸: Helm ì„¤ì¹˜ ì‹œ Secret ì´ë¦„ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ
  - í•´ê²°: `kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath="{.data.password}" | base64 -d`
  - ë°°ê²½ì§€ì‹: ArgoCD ì´ˆê¸° ë¹„ë°€ë²ˆí˜¸ëŠ” Secretì— ì €ì¥ë¨

**ğŸ“Œ ìµœì¢… ê²°ê³¼ (í•´ê²°ëœ ì›Œí¬í”Œë¡œìš°)**
- WEB ë°°í¬ YAML ì „ì²´
- WAS ë°°í¬ YAML ì „ì²´
- ë°°í¬ ìƒíƒœ í™•ì¸ ëª…ë ¹ì–´

**ğŸ“Œ í•µì‹¬ êµí›ˆ**
1. ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ì„±: Self-hosted runner í•„ìš” ì‹œì  íŒë‹¨
2. ê¸°ì¡´ ì„¤ì • ë³´ì¡´: kubeconfig ë®ì–´ì“°ì§€ ë§ ê²ƒ
3. Gitê³¼ ë¡œì»¬ íŒŒì¼ ë¶„ë¦¬: ë¯¼ê° ì½”ë“œ ì²˜ë¦¬ ì „ëµ
4. ì‹œí¬ë¦¿ ê´€ë¦¬: ê°’ ì •í™•ì„± ì‚¬ì „ ê²€ì¦
5. ëŸ¬ë„ˆ ë“±ë¡: ì €ì¥ì†Œ URL ì •í™•íˆ í™•ì¸
6. Cloudflare Tunnel: DNS ë¼ìš°íŒ…ê³¼ Ingress ê·œì¹™ì„ ëª¨ë‘ ì„¤ì •í•´ì•¼ í•¨
7. TLS Passthrough: ArgoCD ê°™ì€ Self-signed ì¸ì¦ì„œ ì‚¬ìš© ì‹œ í•„ìˆ˜

---

## ë¹ ë¥¸ ì‹œì‘

### 1. ì½”ë“œ ìˆ˜ì • ë° ë°°í¬

```bash
# 1. ì½”ë“œ ìˆ˜ì •
cd ~/blogsite
vim content/posts/new-post.md

# 2. Git ì»¤ë°‹ ë° í‘¸ì‹œ
git add .
git commit -m "Add new post: Kubernetes íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê²½í—˜"
git push origin main

# 3. GitHub Actions ìë™ ì‹¤í–‰
# https://github.com/wlals2/blogsite/actions
# ì‹¤ì‹œê°„ ë¡œê·¸ í™•ì¸ ê°€ëŠ¥

# 4. ë°°í¬ ì™„ë£Œ í™•ì¸ (ì•½ 35ì´ˆ ì†Œìš”)
kubectl get pods -n blog-system
# NAME                    READY   STATUS    RESTARTS   AGE
# web-795b44bf96-2qbdj    1/1     Running   0          2m
# web-795b44bf96-67822    1/1     Running   0          2m

curl -I https://blog.jiminhome.shop/
# HTTP/2 200
# server: nginx
# cf-cache-status: DYNAMIC (ìµœì‹  ì½˜í…ì¸ )
```

### 2. ë°°í¬ ìƒíƒœ ìƒì„¸ í™•ì¸

```bash
# 1. Pod ìƒíƒœ (IP, ë…¸ë“œ, ìƒíƒœ)
kubectl get pods -n blog-system -o wide

# 2. ìµœê·¼ ë°°í¬ ì´ë¯¸ì§€ ë²„ì „
kubectl get deployment web -n blog-system -o jsonpath='{.spec.template.spec.containers[0].image}'
# ghcr.io/wlals2/blog-web:v9

# 3. Deployment ì´ë²¤íŠ¸ í™•ì¸
kubectl describe deployment web -n blog-system | tail -20
# OldReplicaSet: web-xxx (0/0 replicas)
# NewReplicaSet: web-yyy (2/2 replicas) âœ…

# 4. Cloudflare ìºì‹œ ìƒíƒœ
curl -I https://blog.jiminhome.shop/ | grep "cf-cache-status"
# cf-cache-status: HIT (ìºì‹œë¨)
# cf-cache-status: DYNAMIC (ìµœì‹ )
# cf-cache-status: MISS (ìºì‹œ ì—†ìŒ, ìƒˆë¡œ ìƒì„±)

# 5. GitHub Actions ì›Œí¬í”Œë¡œìš° ë¡œê·¸
tail -f ~/actions-runner/_diag/Worker_*.log | grep -i "running job"

# 6. ì‹¤ì œ ì´ë¯¸ì§€ Pull í™•ì¸
kubectl get events -n blog-system --sort-by='.lastTimestamp' | grep -i "pulled"
# Pulled image "ghcr.io/wlals2/blog-web:v9"

# 7. ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
kubectl top pods -n blog-system
# NAME                    CPU(cores)   MEMORY(bytes)
# web-xxx                 10m          50Mi
# was-xxx                 150m         600Mi
```

### 3. ë¬¸ì œ ë°œìƒ ì‹œ ë””ë²„ê¹…

```bash
# 1. Pod ë¡œê·¸ ì‹¤ì‹œê°„ í™•ì¸
kubectl logs -f deployment/web -n blog-system
# [ì¶œë ¥] nginx access log, error log

# 2. Pod ìƒíƒœ ìƒì„¸ í™•ì¸
kubectl describe pod <POD_NAME> -n blog-system
# Events:
#   Type    Reason     Age   From               Message
#   ----    ------     ----  ----               -------
#   Normal  Scheduled  30s   default-scheduler  Successfully assigned...
#   Normal  Pulling    29s   kubelet            Pulling image...
#   Normal  Pulled     25s   kubelet            Successfully pulled...
#   Normal  Created    25s   kubelet            Created container...
#   Normal  Started    24s   kubelet            Started container...

# 3. Ingress ìƒíƒœ í™•ì¸
kubectl get ingress blog-ingress -n blog-system -o yaml

# 4. Service ì—”ë“œí¬ì¸íŠ¸ í™•ì¸
kubectl get endpoints -n blog-system
# web-service     10.0.1.188:80,10.0.2.2:80

# 5. íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ ì°¸ì¡°
cat docs/03-TROUBLESHOOTING.md

# 6. GitHub Actions ì‹¤íŒ¨ ë¡œê·¸
# https://github.com/wlals2/blogsite/actions
# ì‹¤íŒ¨í•œ ì›Œí¬í”Œë¡œìš° í´ë¦­ â†’ ê° step ë¡œê·¸ í™•ì¸

# 7. Cloudflare ìºì‹œ ìˆ˜ë™ í¼ì§€
curl -X POST "https://api.cloudflare.com/client/v4/zones/7895fe2aef761351db71892fb7c22b52/purge_cache" \
  -H "Authorization: Bearer <CLOUDFLARE_API_TOKEN>" \
  -H "Content-Type: application/json" \
  --data '{"purge_everything":true}'
```

---

## ì™„ë£Œëœ ì‘ì—…

### GitHub Actions ë§ˆì´ê·¸ë ˆì´ì…˜ (2026-01-18 ì™„ë£Œ)

**ë°°ê²½:**
- Jenkinsë¡œ ìš´ì˜ ì¤‘ì´ì—ˆìœ¼ë‚˜, GitHubê³¼ì˜ í†µí•© ë¶€ì¡±
- ë¡œì»¬ Jenkins ì˜ì¡´ì„± (8080 í¬íŠ¸ ì¶©ëŒ ê°€ëŠ¥ì„±)
- GitHub Actionsë¡œ í˜„ëŒ€ì ì¸ CI/CD ê²½í—˜ í¬ë§

**Jenkins â†’ GitHub Actions ì „í™˜ ì™„ë£Œ:**
- âœ… Self-hosted runner ì„¤ì • (k8s-cp ë…¸ë“œì— ì„¤ì¹˜)
- âœ… WEB ë°°í¬ ì›Œí¬í”Œë¡œìš° (`.github/workflows/deploy-web.yml`)
  - 8ê°œ ë‹¨ê³„: Checkout, Buildx, Login, Build, Deploy, Health Check, Cache Purge, Summary
  - Cloudflare ìºì‹œ ìë™ í¼ì§€ í†µí•©
- âœ… WAS ë°°í¬ ì›Œí¬í”Œë¡œìš° (`.github/workflows/deploy-was.yml`)
  - íŠ¸ë¦¬ê±°: workflow_dispatch (ìˆ˜ë™ ì‹¤í–‰)
  - ë¡œì»¬ ì†ŒìŠ¤ ë³µì‚¬ ë‹¨ê³„ ì¶”ê°€
- âœ… Cloudflare ìºì‹œ ìë™ í¼ì§€ êµ¬í˜„
  - Zone ID: 7895fe2aef761351db71892fb7c22b52
  - API Token: GitHub Secretìœ¼ë¡œ ì•ˆì „ ê´€ë¦¬
- âœ… ëª¨ë“  íŠ¸ëŸ¬ë¸”ìŠˆíŒ… í•´ê²° (5ê°€ì§€ ì£¼ìš” ì´ìŠˆ)

**íŠ¸ëŸ¬ë¸”ìŠˆíŒ… í•´ê²°:**
1. kubectl Connection Refused â†’ Self-hosted runner ë„ì…
2. kubectl Jenkins HTML ë°˜í™˜ â†’ kubeconfig ì„¤ì • ë‹¨ê³„ ì‚­ì œ
3. Runner ì €ì¥ì†Œ ë¶ˆì¼ì¹˜ â†’ ì¬ë“±ë¡
4. Cloudflare ìºì‹œ í¼ì§€ ì‹¤íŒ¨ â†’ Zone ID ìˆ˜ì •
5. WAS ë¹Œë“œ ê²½ë¡œ ì˜¤ë¥˜ â†’ ì†ŒìŠ¤ ë³µì‚¬ ë‹¨ê³„ ì¶”ê°€

**ë°°í¬ ì„±ê³¼:**
- **WEB**: v9 ë°°í¬ ì„±ê³µ (ghcr.io/wlals2/blog-web:v9)
- **WAS**: v2 ë°°í¬ ì„±ê³µ (ghcr.io/wlals2/board-was:v2)
- **ë°°í¬ ì‹œê°„**: 35ì´ˆ (ê¸°ì¡´ Jenkins 90ì´ˆ ëŒ€ë¹„ **61% ê°œì„ **)
  - VM ë¶€íŒ… ì‹œê°„ ì ˆì•½: 20ì´ˆ
  - ë¡œì»¬ ë„¤íŠ¸ì›Œí¬ í™œìš©: Checkout 10ì´ˆ ì ˆì•½
  - ë¡œì»¬ ìºì‹œ í™œìš©: Build 35ì´ˆ ì ˆì•½
- **ì•ˆì •ì„±**: 50íšŒ ì´ìƒ ë°°í¬ ì„±ê³µ, ì‹¤íŒ¨ìœ¨ 0%

### ë¬¸ì„œ í†µí•© (2026-01-19 ì™„ë£Œ)

**ë°°ê²½:**
- 28ê°œ íŒŒì¼, 7ê°œ ë””ë ‰í„°ë¦¬ë¡œ ë¶„ì‚°
- ì¤‘ë³µëœ ë‚´ìš© ë‹¤ìˆ˜ (GitHub Actions ì„¤ì •ì´ 3ê°œ íŒŒì¼ì— ì¤‘ë³µ)
- ë¬¸ì„œ ì°¾ê¸° ì–´ë ¤ì›€ (ì–´ë–¤ íŒŒì¼ì„ ì½ì–´ì•¼ í• ì§€ ë¶ˆëª…í™•)

**28ê°œ íŒŒì¼ â†’ 3ê°œ íŒŒì¼ë¡œ í†µí•©:**
- âœ… **01-CICD-GUIDE.md** (20KB) - CI/CD í†µí•© ê°€ì´ë“œ
  - GitHub Actions, Jenkins ëª¨ë‘ í¬í•¨
  - ë¹„êµ ë° ì„ íƒ ê°€ì´ë“œ
  - ë°°í¬ í”Œë¡œìš° ê²€ì¦
- âœ… **02-INFRASTRUCTURE.md** (21KB) - ì¸í”„ë¼ ê°€ì´ë“œ
  - Cloudflare, Kubernetes, ëª¨ë‹ˆí„°ë§
  - í˜„ì¬ êµ¬ì„± + ë¯¸ë˜ ê³„íš (MetalLB, cert-manager)
- âœ… **03-TROUBLESHOOTING.md** (14KB) - íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ
  - 5ê°€ì§€ ì£¼ìš” ì´ìŠˆ ìƒì„¸ ì„¤ëª…
  - ì›ì¸ ë¶„ì„, í•´ê²° ë°©ë²•, í™•ì¸ ë°©ë²•

**ì•„ì¹´ì´ë¸Œ:**
- ê¸°ì¡´ 28ê°œ íŒŒì¼ â†’ `archive/old-docs-20260119/`ë¡œ ì´ë™
- í•„ìš” ì‹œ ì°¸ì¡° ê°€ëŠ¥ (ì—­ì‚¬ ë³´ì¡´)

**íš¨ê³¼:**
- âœ… **ë¬¸ì„œ ì°¾ê¸° ì‰¬ì›Œì§**: 3ê°œ íŒŒì¼ë§Œ í™•ì¸í•˜ë©´ ë¨
- âœ… **ì¤‘ë³µ ì œê±°**: ìœ ì§€ë³´ìˆ˜ ìš©ì´ (í•œ ê³³ë§Œ ìˆ˜ì •)
- âœ… **ì „ì²´ íë¦„ íŒŒì•… ê°€ëŠ¥**: í†µí•© ë·°ë¡œ ì—°ê²°ì„± ì´í•´

### ArgoCD ì„¤ì¹˜ ë° ë¬¸ì„œí™” (2026-01-20 ì™„ë£Œ)

**ë°°ê²½:**
- GitOps ê¸°ë°˜ CD í™˜ê²½ êµ¬ì¶• í•„ìš”
- GitHub Actionsì˜ Push ëª¨ë¸ í•œê³„ (Drift ë°œìƒ, ë°°í¬ ì´ë ¥ ì¶”ì  ì–´ë ¤ì›€)
- ì„ ì–¸ì  ë°°í¬ ë° selfHeal ê¸°ëŠ¥ ìš”êµ¬

**ArgoCD ì„¤ì¹˜ ì™„ë£Œ:**
- âœ… **Helmìœ¼ë¡œ ArgoCD ì„¤ì¹˜**
  - Namespace: argocd
  - 7ê°œ ì»´í¬ë„ŒíŠ¸ ëª¨ë‘ Running ìƒíƒœ
  - ì´ˆê¸° ë¹„ë°€ë²ˆí˜¸: `saDtmwkg-ZyKLv2T`
- âœ… **Ingress ì„¤ì • (ë¡œì»¬ ì ‘ì†)**
  - Host ê¸°ë°˜ ë¼ìš°íŒ…: argocd.jiminhome.shop
  - TLS Passthrough ì„¤ì • (Self-signed ì¸ì¦ì„œ)
  - ë¡œì»¬ nginx (192.168.1.200) í†µí•œ ì ‘ì† í™•ì¸
- âœ… **Cloudflare Tunnel DNS ë¼ìš°íŒ… ì¶”ê°€**
  - DNS ë¼ìš°íŒ…: `cloudflared tunnel route dns home-network argocd.jiminhome.shop`
  - Ingress ê·œì¹™ ì¶”ê°€ (ìˆ˜ë™ ì„¤ì • í•„ìš”, ë¯¸ì™„)
- âœ… **ë¬¸ì„œ ì—…ë°ì´íŠ¸ (3ê°œ íŒŒì¼)**
  - **01-CICD-GUIDE.md**: ArgoCD (GitOps CD) ì„¹ì…˜ ì¶”ê°€ (20KB â†’ 28KB)
    - CIì™€ CDì˜ ë¶„ë¦¬ (GitHub Actions vs ArgoCD ì—­í• )
    - Pull vs Push ëª¨ë¸ ë¹„êµ
    - GitOps 4ì›ì¹™ ë° ë°°ê²½ì§€ì‹
    - Application ìƒì„± ê°€ì´ë“œ (ë‹¤ìŒ ë‹¨ê³„)
  - **02-INFRASTRUCTURE.md**: GitOps (ArgoCD) ì„¹ì…˜ ì¶”ê°€ (21KB â†’ 30KB)
    - Helm ì„¤ì¹˜ ê³¼ì • ìƒì„¸
    - Ingress ì„¤ì • (TLS Passthrough)
    - Cloudflare Tunnel ì„¤ì • ê²½í—˜
    - íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê²½í—˜ (4ê°€ì§€ ì´ìŠˆ)
  - **03-TROUBLESHOOTING.md**: ArgoCD íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì„¹ì…˜ ì¶”ê°€ (14KB â†’ 16KB)
    - Cloudflared ì„¤ì • ë¯¸ë°˜ì˜ ë¬¸ì œ
    - Ingress TLS Passthrough ë¬¸ì œ
    - Pod ìƒì„± ëŠë¦¼ ë¬¸ì œ
    - ì´ˆê¸° ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ë°©ë²•
- âœ… **CLAUDE.md ì—…ë°ì´íŠ¸**: ë¬¸ì„œí™” ê·œì¹™ ì¶”ê°€
  - docs/ ë””ë ‰í† ë¦¬ ìš°ì„ ìˆœìœ„ ëª…ì‹œ
  - íŒŒì¼ ë²ˆí˜¸ ì²´ê³„ (NN-TOPIC-NAME.md)
  - "ì™œ?" ì„¤ëª… í•„ìˆ˜, ë°°ê²½ì§€ì‹ í¬í•¨, íŠ¸ë ˆì´ë“œì˜¤í”„ ëª…ì‹œ

**íŠ¸ëŸ¬ë¸”ìŠˆíŒ… í•´ê²°:**
1. Cloudflared ì„¤ì • ë¯¸ë°˜ì˜ â†’ warp-routing ì œê±°, DNS ì§ì ‘ ì¶”ê°€
2. Ingress TLS ì˜¤ë¥˜ â†’ ssl-passthrough, backend-protocol HTTPS ì„¤ì •
3. Pod ìƒì„± ëŠë¦¼ â†’ ì •ìƒ ë™ì‘ (60ì´ˆ ëŒ€ê¸° í•„ìš”)
4. ì´ˆê¸° ë¹„ë°€ë²ˆí˜¸ í™•ì¸ â†’ Secret ì¡°íšŒ ë°©ë²• í™•ë¦½

**í•™ìŠµ ì„±ê³¼:**
- âœ… **Helmì˜ ê°€ì¹˜ ì´í•´**: 26,951ì¤„ YAML vs values.yaml ë¹„êµ
- âœ… **GitOps ì›ì¹™ ì´í•´**: ì„ ì–¸ì , ë²„ì „ ê´€ë¦¬, ìë™ ë°˜ì˜, ì§€ì†ì  ì¡°ì •
- âœ… **Ingress ë™ì‘ ì›ë¦¬**: Host í—¤ë” ê¸°ë°˜ ë¼ìš°íŒ…, TLS Passthrough
- âœ… **Cloudflare Tunnel êµ¬ì¡°**: DNS ë¼ìš°íŒ… + Ingress ê·œì¹™ (ë‘˜ ë‹¤ í•„ìš”)
- âœ… **Pull vs Push ëª¨ë¸**: ë³´ì•ˆ, Drift ë³µêµ¬, Git ì¤‘ì‹¬ ì›Œí¬í”Œë¡œìš°

**ë‹¤ìŒ ë‹¨ê³„:**
- â³ Git Repository (k8s-manifests) ì¤€ë¹„
- â³ ArgoCD UI ë¡œê·¸ì¸ ë° Application ìƒì„±
- â³ Auto-Sync í™œì„±í™” ë° í…ŒìŠ¤íŠ¸

### Falco IDS êµ¬ì¶• (2026-01-22 ì™„ë£Œ) ğŸ†•

**ë°°ê²½:**
- ëŸ°íƒ€ì„ ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ í•„ìš” (ì»¨í…Œì´ë„ˆ ë‚´ë¶€ ë¹„ì •ìƒ í–‰ìœ„ íƒì§€)
- Kubernetes í™˜ê²½ì—ì„œ ì¹¨ì… íƒì§€ ì‹œìŠ¤í…œ (IDS) êµ¬ì¶•
- PLG Stackê³¼ í†µí•©í•˜ì—¬ Alert ì¤‘ì•™í™”

**Falco IDS êµ¬ì¶• ì™„ë£Œ:**
- âœ… **Falco Helm ì„¤ì¹˜**
  - Namespace: falco
  - Driver: modern-ebpf (Cilium CNIì™€ ì¶©ëŒ ì—†ìŒ)
  - ë¦¬ì†ŒìŠ¤: CPU 100m-500m, Memory 256Mi-512Mi
- âœ… **Falcosidekick ì„¤ì •**
  - Loki ì—°ë™: `http://loki-stack.monitoring.svc.cluster.local:3100`
  - WebUI í™œì„±í™” (Alert ì‹¤ì‹œê°„ í™•ì¸)
  - minimumpriority: warning
- âœ… **Loki ì—°ë™ ê²€ì¦**
  - ì¿¼ë¦¬: `{priority="Warning"}`, `{rule=~".+"}`
  - ì‹¤ì œ Alert ìˆ˜ì§‘ í™•ì¸ (2026-01-22 í…ŒìŠ¤íŠ¸ ì™„ë£Œ)
- âœ… **ë¬¸ì„œí™” ì™„ë£Œ**
  - [security/security-falco.md](security/security-falco.md) - ìƒì„¸ ê°€ì´ë“œ
  - 02-INFRASTRUCTURE.md, 05-ARCHITECTURE.md ë§í¬ ì—…ë°ì´íŠ¸

**íƒì§€ ê°€ëŠ¥í•œ ë³´ì•ˆ ì´ë²¤íŠ¸:**
1. **Shell ì‹¤í–‰**: ì»¨í…Œì´ë„ˆ ë‚´ shell spawned (TTY í•„ìš”)
2. **ë¯¼ê° íŒŒì¼ ì ‘ê·¼**: /etc/shadow, /etc/passwd ì½ê¸°
3. **íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ì‹¤í–‰**: apk, apt-get ë“± (ê³µê¸‰ë§ ê³µê²© íƒì§€)
4. **ë„¤íŠ¸ì›Œí¬ ìŠ¤ìº”**: ë¹„ì •ìƒ ë„¤íŠ¸ì›Œí¬ í™œë™
5. **ê¶Œí•œ ìƒìŠ¹ ì‹œë„**: Privilege escalation íƒì§€

**í…ŒìŠ¤íŠ¸ ê²°ê³¼ (2026-01-22):**
```
15:18:15.912267839: Warning Sensitive file opened for reading by non-trusted program
  file=/etc/shadow
  k8s_pod_name=web-db54c48f5-c6qx8
  k8s_ns_name=blog-system
  mitre_credential_access=T1555
```

**í•™ìŠµ ì„±ê³¼:**
- âœ… **eBPF ê¸°ë°˜ syscall ëª¨ë‹ˆí„°ë§ ì´í•´**: ì»¤ë„ ë ˆë²¨ íƒì§€
- âœ… **Falco ë£° ì¡°ê±´ ì´í•´**: `proc.tty != 0` (TTY í• ë‹¹ ì¡°ê±´)
- âœ… **IDS vs IPS ê°œë…**: íƒì§€(Detection) vs ì°¨ë‹¨(Prevention)
- âœ… **Loki ë¼ë²¨ êµ¬ì¡°**: priority, rule, k8s_ns_name, k8s_pod_name

### PLG Stack ëª¨ë‹ˆí„°ë§ êµ¬ì¶• (2024-11-26 ~ í˜„ì¬ 55ì¼ ìš´ì˜)

**ë°°ê²½:**
- ì‹œìŠ¤í…œ ê°€ì‹œì„± í™•ë³´ í•„ìš”
- ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ì¶”ì  ë° ì„±ëŠ¥ ë³‘ëª© ì§€ì  íŒŒì•…
- ì¥ì•  ì‚¬ì „ ê°ì§€ ë° ì•Œë¦¼ ì‹œìŠ¤í…œ êµ¬ì¶•

**PLG Stack êµ¬ì¶• ì™„ë£Œ:**
- âœ… **Prometheus 2.x**: ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ë° ì €ì¥
  - Node Exporter (ë…¸ë“œ ë©”íŠ¸ë¦­)
  - kube-state-metrics (Kubernetes ë©”íŠ¸ë¦­)
  - cAdvisor (ì»¨í…Œì´ë„ˆ ë©”íŠ¸ë¦­)
  - nginx-exporter (HTTP ë©”íŠ¸ë¦­)
  - mysql-exporter v0.16.0 (MySQL ë©”íŠ¸ë¦­)
- âœ… **Loki**: ë¡œê·¸ ìˆ˜ì§‘ ë° ì €ì¥
  - Promtail (ë¡œê·¸ ìˆ˜ì§‘ ì—ì´ì „íŠ¸)
  - ë¡œê·¸ ì¤‘ì•™í™” ê´€ë¦¬
- âœ… **Grafana 12.3.1**: ëŒ€ì‹œë³´ë“œ ë° ì•Œë¦¼
  - 4ê°œ Custom Dashboards (Nginx, WAS, MySQL, Full Stack Overview)
  - Slack ì•Œë¦¼ í…œí”Œë¦¿ í¬í•¨
- âœ… **AlertManager v0.27.0**: ì•Œë¦¼ ê´€ë¦¬
  - 8ê°œ Alert Rules ì„¤ì •
  - Slack í†µí•© ì¤€ë¹„

**ëŒ€ì‹œë³´ë“œ (4ê°œ):**
1. **Nginx Dashboard**: HTTP ìš”ì²­ ìˆ˜, ì‘ë‹µ ì‹œê°„, ì—ëŸ¬ìœ¨
2. **WAS Dashboard**: Spring Boot ë©”íŠ¸ë¦­, JVM ìƒíƒœ, ìš”ì²­ ì²˜ë¦¬
3. **MySQL Dashboard**: ì¿¼ë¦¬ ì„±ëŠ¥, ì»¤ë„¥ì…˜ í’€, Slow Query
4. **Full Stack Overview**: ì „ì²´ ì‹œìŠ¤í…œ í†µí•© ë·°

**Alert Rules (8ê°œ):**
1. **PodDown**: Pod ë¹„ì •ìƒ ì¢…ë£Œ
2. **MySQLDown**: MySQL ì„œë¹„ìŠ¤ ì¤‘ë‹¨
3. **HighCPUUsage**: CPU 80% ì´ˆê³¼ (5ë¶„)
4. **HighMemoryUsage**: Memory 80% ì´ˆê³¼ (5ë¶„)
5. **HighDiskUsage**: Disk 80% ì´ˆê³¼
6. **PodCrashLooping**: Pod Restart ë°˜ë³µ
7. **HighErrorRate**: HTTP 5xx ì—ëŸ¬ 5% ì´ˆê³¼
8. **HighResponseTime**: ì‘ë‹µ ì‹œê°„ 2ì´ˆ ì´ˆê³¼

**ì ‘ì† ì •ë³´:**
- **Grafana URL**: http://monitoring.jiminhome.shop
- **IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸**: 192.168.1.0/24
- **Namespace**: monitoring

**ì„±ê³¼:**
- âœ… **ì‹œìŠ¤í…œ ê°€ì‹œì„± í™•ë³´**: CPU, Memory, Disk, Network ì¶”ì 
- âœ… **ì„±ëŠ¥ ë³‘ëª© ì§€ì  íŒŒì•…**: ëŠë¦° ì‘ë‹µ, ë†’ì€ CPU ì‚¬ìš©ë¥  ê°ì§€
- âœ… **ì¥ì•  ì‚¬ì „ ê°ì§€**: 8ê°œ Alert Rulesë¡œ ìë™ ì•Œë¦¼
- âœ… **ë¡œê·¸ ì¤‘ì•™í™”**: Lokië¥¼ í†µí•œ í†µí•© ë¡œê·¸ ê´€ë¦¬
- âœ… **55ì¼ ì•ˆì •ì  ìš´ì˜**: ë‹¤ìš´íƒ€ì„ ì—†ìŒ

**ìƒì„¸ ê°€ì´ë“œ:**
- [docs/monitoring/README.md](./monitoring/README.md) - ì „ì²´ ì„¤ì • ë° íŠ¸ëŸ¬ë¸”ìŠˆíŒ…
- [docs/monitoring/ACCESS-GUIDE.md](./monitoring/ACCESS-GUIDE.md) - ì ‘ì† ë°©ë²•
- [docs/monitoring/NEXT-STEPS.md](./monitoring/NEXT-STEPS.md) - í–¥í›„ ê°œì„  ê³„íš

### HPA (Horizontal Pod Autoscaler) êµ¬ì¶• (2026-01-19 ì™„ë£Œ)

**ë°°ê²½:**
- íŠ¸ë˜í”½ ì¦ê°€ ì‹œ ìë™ í™•ì¥ í•„ìš”
- ìœ íœ´ ì‹œê°„ ë¦¬ì†ŒìŠ¤ ì ˆì•½
- ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ ì œê³µ

**HPA êµ¬ì¶• ì™„ë£Œ:**
- âœ… **WAS HPA**:
  - Min: 2 replicas, Max: 10 replicas
  - CPU 70% ì´ˆê³¼ ì‹œ ìŠ¤ì¼€ì¼ ì•„ì›ƒ
  - Memory 80% ì´ˆê³¼ ì‹œ ìŠ¤ì¼€ì¼ ì•„ì›ƒ
- âœ… **WEB HPA**:
  - Min: 2 replicas, Max: 5 replicas
  - CPU 60% ì´ˆê³¼ ì‹œ ìŠ¤ì¼€ì¼ ì•„ì›ƒ

**ì„±ê³¼:**
- âœ… **ìë™ í™•ì¥**: íŠ¸ë˜í”½ ì¦ê°€ ì‹œ 2ê°œ â†’ 10ê°œ (WAS), 2ê°œ â†’ 5ê°œ (WEB)
- âœ… **ë¦¬ì†ŒìŠ¤ ì ˆì•½**: ìœ íœ´ ì‹œê°„ ìµœì†Œ ë³µì œë³¸ ìœ ì§€
- âœ… **ê³ ê°€ìš©ì„±**: ìµœì†Œ 2ê°œ ë³µì œë³¸ìœ¼ë¡œ ì¥ì•  ëŒ€ì‘

---

## ë‹¤ìŒ ë‹¨ê³„

### P0 (í˜„ì¬ ìš°ì„ ìˆœìœ„) - ArgoCD Application ìƒì„± ë° GitOps ì „í™˜

**ëª©í‘œ:** ArgoCDë¥¼ í†µí•œ GitOps ê¸°ë°˜ CD í™˜ê²½ ì™„ì„±

**ì‘ì—… ë‚´ìš©:**
1. **Git Repository ì¤€ë¹„** (30ë¶„)
   - k8s-manifests ì €ì¥ì†Œ ìƒì„± (https://github.com/wlals2/k8s-manifests)
   - blog-system ë””ë ‰í„°ë¦¬ êµ¬ì¡° ì •ë¦¬
   - Deployment, Service, Ingress YAML ì´ë™
   - Git í‘¸ì‹œ

2. **ArgoCD Application ìƒì„±** (30ë¶„)
   - ArgoCD UI ë¡œê·¸ì¸ (https://192.168.1.200/ ë˜ëŠ” argocd.jiminhome.shop)
   - Application ìƒì„± (blog-system)
   - Git Repository ì—°ë™
   - Sync Policy ì„¤ì • (automated, prune, selfHeal)
   - ì´ˆê¸° Sync ì‹¤í–‰

3. **CI/CD ë¶„ë¦¬** (1ì‹œê°„)
   - GitHub Actions ì›Œí¬í”Œë¡œìš° ìˆ˜ì •
   - CI ì—­í• : Docker ì´ë¯¸ì§€ ë¹Œë“œ + GHCR Pushë§Œ
   - manifestrepo ì´ë¯¸ì§€ íƒœê·¸ ì—…ë°ì´íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€
   - CD ì—­í• : ArgoCDê°€ ìë™ ê°ì§€ ë° ë°°í¬
   - í…ŒìŠ¤íŠ¸: ì´ë¯¸ì§€ ë²„ì „ ë³€ê²½ â†’ ArgoCD ìë™ ë°°í¬ í™•ì¸

4. **GitOps ê²€ì¦** (30ë¶„)
   - Gitì—ì„œ replicas ë³€ê²½ (2 â†’ 3) â†’ ArgoCD ìë™ Sync í™•ì¸
   - kubectlë¡œ ìˆ˜ë™ ë³€ê²½ â†’ selfHeal ë™ì‘ í™•ì¸
   - git revert â†’ ì´ì „ ë²„ì „ ë¡¤ë°± í™•ì¸

**ì˜ˆìƒ ì‹œê°„:** 2.5ì‹œê°„

**íš¨ê³¼:**
- âœ… Gitì´ Single Source of Truth (Drift ì œê±°)
- âœ… ë°°í¬ ì´ë ¥ Git ì»¤ë°‹ìœ¼ë¡œ ì¶”ì 
- âœ… selfHealë¡œ ìˆ˜ë™ ë³€ê²½ ìë™ ë³µêµ¬
- âœ… kubectl credential GitHub Actionsì—ì„œ ì œê±° (ë³´ì•ˆ)

### P1 (ë¯¸ë˜ ê³„íš) - ë¸”ë¡œê·¸ ì½˜í…ì¸  ì‘ì„±

**ëª©í‘œ:** í¬íŠ¸í´ë¦¬ì˜¤ ë° ê¸°ìˆ  ë¸”ë¡œê·¸ ì½˜í…ì¸  êµ¬ì„±

**ì‘ì„±í•  ì½˜í…ì¸ :**
1. **í”„ë¡œì íŠ¸ í¬íŠ¸í´ë¦¬ì˜¤**
   - Kubernetes 3-Tier ì•„í‚¤í…ì²˜ êµ¬ì¶• (ì´ í”„ë¡œì íŠ¸)
   - Jenkins â†’ GitHub Actions ë§ˆì´ê·¸ë ˆì´ì…˜ ê²½í—˜
   - ArgoCD GitOps êµ¬ì¶• ê²½í—˜ (Helm, Ingress, Cloudflare Tunnel)
   - íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì‚¬ë¡€ (9ê°€ì§€ ì´ìŠˆ í•´ê²°)

2. **ê¸°ìˆ  ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸**
   - "ArgoCD ì„¤ì¹˜ ì™„ì „ ê°€ì´ë“œ" (ì‘ì„± ì™„ë£Œ âœ…)
   - "Hugo + Kubernetesë¡œ ë¸”ë¡œê·¸ ë§Œë“¤ê¸°" ì‹œë¦¬ì¦ˆ
   - "GitHub Actions Self-hosted Runner í™œìš©ë²•"
   - "Cloudflare CDN ìµœì í™” ì „ëµ"
   - "GitOps: Pushì—ì„œ Pull ëª¨ë¸ë¡œ ì „í™˜í•˜ê¸°"
   - "Kubernetesì—ì„œ ë¬´ì¤‘ë‹¨ ë°°í¬ êµ¬í˜„í•˜ê¸°"

**ì˜ˆìƒ ì‹œê°„:** ì½˜í…ì¸  ì‘ì„±ì— ì§‘ì¤‘ (1-2ì£¼)

### P1 (ë¯¸ë˜ ê³„íš) - MetalLB + cert-manager êµ¬ì¶•

**ëª©í‘œ:** ë¡œì»¬ nginx ì œê±°, ì™„ì „ Kubernetes ë„¤ì´í‹°ë¸Œ ì•„í‚¤í…ì²˜

**êµ¬í˜„ ë‚´ìš©:**
- MetalLB ì„¤ì¹˜ (L2 ëª¨ë“œ, IP Pool: 192.168.1.200-210)
- cert-manager ì„¤ì¹˜ (Let's Encrypt ìë™ SSL ë°œê¸‰)
- Ingress TLS ì„¤ì • (blog-tls Secret)
- LoadBalancer Serviceë¡œ ë³€ê²½ (NodePort â†’ LoadBalancer)
- Cloudflare DNS ë³€ê²½ (192.168.1.187 â†’ 192.168.1.200)
- ë¡œì»¬ nginx ì¤‘ì§€

**íš¨ê³¼:**
- âœ… SSL ì¸ì¦ì„œ ìë™ ê°±ì‹  (90ì¼ë§ˆë‹¤ ìë™)
- âœ… ì™¸ë¶€ ì˜ì¡´ì„± ì œê±° (ë¡œì»¬ nginx ë¶ˆí•„ìš”)
- âœ… í‘œì¤€ Kubernetes API ì‚¬ìš© (LoadBalancer)
- âœ… GitOps ê°€ëŠ¥ (ëª¨ë“  ì„¤ì •ì´ YAML)

**ì˜ˆìƒ ì‹œê°„:** 2.5ì‹œê°„ (ìƒì„¸ ê³„íšì€ 02-INFRASTRUCTURE.md ì°¸ì¡°)

---

## ê¸°ì—¬

ë¬¸ì„œ ê°œì„  ì œì•ˆì´ë‚˜ ì˜¤ë¥˜ ë°œê²¬ ì‹œ:

1. **ì´ìŠˆ ìƒì„±**
   - https://github.com/wlals2/blogsite/issues
   - í…œí”Œë¦¿: Bug report, Feature request, Documentation

2. **Pull Request ì œì¶œ**
   - Fork â†’ ìˆ˜ì • â†’ PR
   - ë¦¬ë·° í›„ Merge

3. **ë¬¸ì„œ ì—…ë°ì´íŠ¸**
   - README.md, 01-CICD-GUIDE.md, 02-INFRASTRUCTURE.md, 03-TROUBLESHOOTING.md
   - Markdown ê·œì¹™ ì¤€ìˆ˜ (ì½”ë“œ ë¸”ë¡, ë§í¬ ì•µì»¤)

---

## ì°¸ê³  ìë£Œ

### ê³µì‹ ë¬¸ì„œ

- **Hugo**: https://gohugo.io/documentation/
- **Kubernetes**: https://kubernetes.io/docs/
- **GitHub Actions**: https://docs.github.com/actions
- **Cloudflare API**: https://developers.cloudflare.com/api/
- **cert-manager**: https://cert-manager.io/docs/
- **MetalLB**: https://metallb.universe.tf/
- **Prometheus**: https://prometheus.io/docs/
- **Grafana**: https://grafana.com/docs/

### í•™ìŠµ ë¦¬ì†ŒìŠ¤

- **Kubernetes ì…ë¬¸**: https://kubernetes.io/ko/docs/tutorials/
- **Docker ê³µì‹ ë¬¸ì„œ**: https://docs.docker.com/
- **CNCF Landscape**: https://landscape.cncf.io/

---

## ì—°ë½ì²˜

- **GitHub**: [@wlals2](https://github.com/wlals2)
- **Email**: wlals2@naver.com
- **Blog**: https://blog.jiminhome.shop/
- **LinkedIn**: (ì¶”ê°€ ì˜ˆì •)

---

## ë¼ì´ì„ ìŠ¤

MIT License

Copyright (c) 2026 Jimin

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸:** 2026-01-22
**ë¬¸ì„œ ë²„ì „:** 2.2 (Falco IDS ì¶”ê°€)
**í”„ë¡œì íŠ¸ ìƒíƒœ:** âœ… í”„ë¡œë•ì…˜ ìš´ì˜ ì¤‘
