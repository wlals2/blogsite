# ==============================================================================
# 테스트 프로필 설정 (CI 환경용)
# ==============================================================================
# Why: CI 환경에 MySQL이 없으므로 H2 In-Memory DB로 대체
#      실제 K8s 환경(application.properties)과 분리하여 충돌 방지
#
# 사용: mvn test -Dspring.profiles.active=test
# ==============================================================================

# H2 In-Memory DB (MySQL 대체)
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=MySQL
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# Why: H2 사용 시 MySQL Dialect 대신 H2 Dialect 사용
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Why: 테스트 시작 시 스키마 자동 생성 (DDL-auto=create-drop)
spring.jpa.hibernate.ddl-auto=create-drop

# H2 Console (로컬 디버깅 시 편의)
spring.h2.console.enabled=false
